# ========================================
# PRODUCTION Environment Variables for Railway
# ========================================
# Copy these variables to Railway Dashboard:
# Settings → Variables → Add each variable
# ========================================

# ========================================
# SERVER CONFIGURATION
# ========================================

NODE_ENV=production
PORT=4000

# ========================================
# AUTHENTICATION (ОБЯЗАТЕЛЬНО ИЗМЕНИТЬ!)
# ========================================
# Generate secure secrets:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

JWT_SECRET=CHANGE_THIS_TO_64_RANDOM_CHARACTERS_USE_CRYPTO_RANDOM_BYTES
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=CHANGE_THIS_TO_DIFFERENT_64_RANDOM_CHARACTERS
JWT_REFRESH_EXPIRES_IN=7d

# ========================================
# CORS (Обновите после получения Vercel URL)
# ========================================

CORS_ORIGIN=https://ai-tarot-assistant-1viqrjm5j-vibecodium.vercel.app
FRONTEND_URL=https://ai-tarot-assistant-1viqrjm5j-vibecodium.vercel.app

# ========================================
# RATE LIMITING
# ========================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# LOGGING
# ========================================

LOG_LEVEL=info

# ========================================
# FEATURE FLAGS
# ========================================

AI_ENABLED=false
PREMIUM_ENABLED=true

# ========================================
# ADMIN
# ========================================

ADMIN_EMAILS=your-email@example.com

# ========================================
# STRIPE (опционально - для Premium функций)
# ========================================
# Get from: https://dashboard.stripe.com/test/apikeys

# STRIPE_SECRET_KEY=sk_test_YOUR_STRIPE_SECRET_KEY
# STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_STRIPE_PUBLISHABLE_KEY
# STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET
# STRIPE_PREMIUM_PRICE_ID=price_YOUR_PRICE_ID

# ========================================
# SENTRY (опционально - для Error Tracking)
# ========================================
# Get from: https://sentry.io/settings/projects/

# SENTRY_DSN_BACKEND=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=1.0

# ========================================
# HOW TO GENERATE SECURE JWT SECRETS:
# ========================================
#
# Run this command twice to generate two different secrets:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# Example output:
# a1b2c3d4e5f6...xyz (128 characters)
#
# Use first output for JWT_SECRET
# Use second output for JWT_REFRESH_SECRET
#
# ========================================
# RAILWAY DEPLOYMENT STEPS:
# ========================================
#
# 1. Go to https://railway.app
# 2. Login with GitHub
# 3. Click "New Project" → "Deploy from GitHub repo"
# 4. Select: HiVibecodium/tarot
# 5. After deploy starts, go to Settings → Variables
# 6. Add each variable from this file (one by one)
# 7. Redeploy after adding variables
# 8. Get your Railway URL from Settings → Networking
# 9. Update CORS_ORIGIN with your actual Vercel URL
#
# ========================================
# DATABASE:
# ========================================
#
# This app uses JSON storage by default (no configuration needed)
# Railway will automatically create a persistent volume at /app/data
#
# For production scale, you can add MongoDB:
# 1. In Railway Dashboard, click "+ New"
# 2. Select "Database" → "Add MongoDB"
# 3. Get connection string from MongoDB service
# 4. Add variable: MONGODB_URI=<connection-string>
#
# ========================================
