/**
 * Script to enrich tarot cards with additional data
 * Run with: node scripts/enrich-cards.js
 */

const fs = require('fs');
const path = require('path');

const cardsPath = path.join(__dirname, '../src/backend/db/data/cards.json');

// Major Arcana enrichment data
const MAJOR_ARCANA_DATA = {
  0: { // Шут
    description: 'Шут - нулевая карта Старших Арканов, символизирующая бесконечный потенциал и начало духовного путешествия. Он идёт по краю обрыва, не замечая опасности, ведомый верой и интуицией.',
    symbolism: ['Белая роза - чистота намерений', 'Собака - инстинкты и защита', 'Обрыв - грань между известным и неизвестным', 'Мешок за плечом - накопленный опыт', 'Горы - предстоящие испытания'],
    element: 'Воздух',
    astrology: 'Уран',
    numerology: { number: 0, meaning: 'Пустота и бесконечный потенциал, точка начала всего' },
    lifeAreas: {
      love: { upright: 'Новая романтика, спонтанные встречи, свежее начало в отношениях', reversed: 'Безответственность в любви, страх обязательств' },
      career: { upright: 'Новая работа или проект, карьерное приключение', reversed: 'Неосмотрительные решения на работе, риск увольнения' },
      health: { upright: 'Прилив энергии, новые спортивные увлечения', reversed: 'Травмы из-за неосторожности, игнорирование симптомов' },
      finances: { upright: 'Неожиданные возможности заработка, рискованные но удачные инвестиции', reversed: 'Финансовая наивность, азартные потери' }
    },
    yesNo: { answer: 'Да', explanation: 'Карта поддерживает новые начинания и смелые шаги' },
    advice: 'Доверьтесь жизни и сделайте шаг в неизвестность. Ваша наивность сейчас - ваша сила.',
    affirmation: 'Я открыт новому опыту и доверяю своему пути'
  },
  1: { // Маг
    description: 'Маг - первая карта Старших Арканов, мастер проявления и воли. Он стоит перед столом с четырьмя элементами, указывая одной рукой вверх, другой - вниз, соединяя небо и землю.',
    symbolism: ['Жезл - Огонь и воля', 'Кубок - Вода и эмоции', 'Меч - Воздух и интеллект', 'Пентакль - Земля и материя', 'Лемниската над головой - бесконечность', 'Розы и лилии - страсть и чистота'],
    element: 'Воздух',
    astrology: 'Меркурий',
    numerology: { number: 1, meaning: 'Единство, начало, первичный импульс творения' },
    lifeAreas: {
      love: { upright: 'Активное проявление чувств, манифестация любви', reversed: 'Манипуляции в отношениях, обман партнёра' },
      career: { upright: 'Реализация талантов, успешные проекты, мастерство', reversed: 'Мошенничество на работе, нереализованный потенциал' },
      health: { upright: 'Самоисцеление, сила воли в лечении', reversed: 'Шарлатанские методы лечения, игнорирование врачей' },
      finances: { upright: 'Умелое управление деньгами, выгодные сделки', reversed: 'Финансовые махинации, обман в бизнесе' }
    },
    yesNo: { answer: 'Да', explanation: 'У вас есть все необходимые ресурсы для успеха' },
    advice: 'Объедините все свои ресурсы и таланты для достижения цели. Вы способны на большее, чем думаете.',
    affirmation: 'Я обладаю всем необходимым для достижения своих целей'
  },
  2: { // Верховная Жрица
    description: 'Верховная Жрица сидит между двумя колоннами - чёрной и белой, символизируя баланс противоположностей. Она хранительница тайных знаний и интуиции.',
    symbolism: ['Колонны B и J - дуальность, Боаз и Яхин', 'Полумесяц у ног - связь с Луной и циклами', 'Свиток Торы - скрытое знание', 'Завеса с гранатами - тайны подсознания', 'Крест на груди - баланс четырёх элементов'],
    element: 'Вода',
    astrology: 'Луна',
    numerology: { number: 2, meaning: 'Дуальность, интуиция, восприимчивость' },
    lifeAreas: {
      love: { upright: 'Глубокая интуитивная связь, тайный роман, платоническая любовь', reversed: 'Скрытые тайны от партнёра, игнорирование интуиции в любви' },
      career: { upright: 'Интуитивные решения на работе, скрытые возможности', reversed: 'Офисные тайны, скрытые враги на работе' },
      health: { upright: 'Интуитивное понимание тела, женское здоровье', reversed: 'Игнорирование симптомов, отрицание проблем' },
      finances: { upright: 'Интуитивные инвестиции, скрытые источники дохода', reversed: 'Финансовые секреты, нераскрытая информация' }
    },
    yesNo: { answer: 'Возможно', explanation: 'Ответ скрыт - прислушайтесь к интуиции' },
    advice: 'Прислушайтесь к своему внутреннему голосу. Не всё можно объяснить логикой.',
    affirmation: 'Я доверяю своей интуиции и внутренней мудрости'
  },
  3: { // Императрица
    description: 'Императрица - воплощение женственности, плодородия и изобилия. Она сидит среди пышной природы, символизируя творческую силу Земли-Матери.',
    symbolism: ['Корона из 12 звёзд - знаки зодиака, космический цикл', 'Пшеничное поле - изобилие и плодородие', 'Река - эмоциональный поток', 'Подушки и ткани - комфорт и роскошь', 'Символ Венеры - любовь и красота'],
    element: 'Земля',
    astrology: 'Венера',
    numerology: { number: 3, meaning: 'Творчество, рост, плодородие' },
    lifeAreas: {
      love: { upright: 'Беременность, материнство, страстная любовь, забота', reversed: 'Проблемы с зачатием, гиперопека, зависимость' },
      career: { upright: 'Творческие проекты, рост бизнеса, руководство', reversed: 'Творческий блок, застой в карьере' },
      health: { upright: 'Беременность, женское здоровье, природное исцеление', reversed: 'Репродуктивные проблемы, истощение' },
      finances: { upright: 'Финансовое изобилие, прибыльные проекты', reversed: 'Расточительство, финансовая зависимость' }
    },
    yesNo: { answer: 'Да', explanation: 'Изобилие и рост благоприятствуют вашим планам' },
    advice: 'Заботьтесь о себе и своих творениях. Позвольте изобилию войти в вашу жизнь.',
    affirmation: 'Я привлекаю изобилие и радость в свою жизнь'
  },
  4: { // Император
    description: 'Император сидит на каменном троне, украшенном головами баранов - символом Овна. Он олицетворяет структуру, авторитет и защиту.',
    symbolism: ['Каменный трон - стабильность и власть', 'Головы баранов - Овен, начало, агрессия', 'Скипетр - мужская энергия, фаллический символ', 'Держава - мировое господство', 'Красная мантия - страсть и действие', 'Горы позади - достижения и преодоления'],
    element: 'Огонь',
    astrology: 'Овен',
    numerology: { number: 4, meaning: 'Стабильность, структура, основа' },
    lifeAreas: {
      love: { upright: 'Защита партнёра, стабильные отношения, предложение руки', reversed: 'Тирания в отношениях, контроль, подавление' },
      career: { upright: 'Руководящая должность, структура, достижение целей', reversed: 'Жёсткий босс, бюрократия, авторитаризм' },
      health: { upright: 'Дисциплина в здоровье, режим, структурированный подход', reversed: 'Проблемы с костями, негибкость, жёсткость' },
      finances: { upright: 'Финансовая стабильность, управление бюджетом, накопления', reversed: 'Финансовый контроль, жадность, скупость' }
    },
    yesNo: { answer: 'Да', explanation: 'Структура и дисциплина приведут к успеху' },
    advice: 'Установите чёткие границы и правила. Возьмите ответственность за свою жизнь.',
    affirmation: 'Я способен создать стабильность и порядок в своей жизни'
  },
  5: { // Иерофант
    description: 'Иерофант - духовный учитель, сидящий между двумя колоннами храма. Он передаёт традиционные знания и связывает земное с божественным.',
    symbolism: ['Тройная корона - три мира (физический, ментальный, духовный)', 'Скрещённые ключи - доступ к тайнам', 'Два послушника - ученики, дуальность', 'Жест благословения - передача знаний', 'Серые колонны - мудрость веков'],
    element: 'Земля',
    astrology: 'Телец',
    numerology: { number: 5, meaning: 'Духовность, традиции, обучение' },
    lifeAreas: {
      love: { upright: 'Брак, традиционные отношения, духовная связь', reversed: 'Разрыв с традициями, нетрадиционные отношения' },
      career: { upright: 'Наставничество, образование, корпоративная культура', reversed: 'Конфликт с системой, бунт против правил' },
      health: { upright: 'Традиционная медицина, следование рекомендациям врача', reversed: 'Альтернативная медицина, отказ от системы' },
      finances: { upright: 'Традиционные инвестиции, банковская система, займы', reversed: 'Отказ от финансовых институтов, криптовалюты' }
    },
    yesNo: { answer: 'Да', explanation: 'Следование традициям и правилам принесёт результат' },
    advice: 'Обратитесь к проверенным временем знаниям. Найдите учителя или станьте им сами.',
    affirmation: 'Я открыт мудрости традиций и готов учиться'
  },
  6: { // Влюблённые
    description: 'Мужчина и женщина стоят под ангелом, благословляющим их союз. Карта выбора между страстью и разумом, телом и духом.',
    symbolism: ['Ангел Рафаэль - исцеление и защита союза', 'Дерево познания за Евой - знание и искушение', 'Горящее дерево за Адамом - страсть и желание', 'Змей - искушение и мудрость', 'Солнце - божественное благословение', 'Гора - цель совместного пути'],
    element: 'Воздух',
    astrology: 'Близнецы',
    numerology: { number: 6, meaning: 'Гармония, выбор, ответственность' },
    lifeAreas: {
      love: { upright: 'Истинная любовь, соулмейт, важный выбор в отношениях', reversed: 'Неверность, дисгармония, неправильный выбор' },
      career: { upright: 'Выбор карьерного пути, партнёрство в бизнесе', reversed: 'Конфликт с коллегами, неудачное партнёрство' },
      health: { upright: 'Баланс тела и духа, выбор здорового образа жизни', reversed: 'Дисбаланс, нездоровые привычки' },
      finances: { upright: 'Финансовое партнёрство, совместные инвестиции', reversed: 'Финансовые разногласия, неудачный выбор' }
    },
    yesNo: { answer: 'Да', explanation: 'Следуйте за сердцем, но слушайте разум' },
    advice: 'Сделайте выбор, основанный на любви и ценностях, а не на страхе.',
    affirmation: 'Я делаю выбор с любовью и мудростью'
  },
  7: { // Колесница
    description: 'Воин стоит в колеснице, запряжённой двумя сфинксами - чёрным и белым. Он управляет противоположными силами силой воли.',
    symbolism: ['Два сфинкса - противоположные силы, инь и ян', 'Звёздный балдахин - небесная защита', 'Лунные символы - эмоции под контролем', 'Жезл - воля и направление', 'Доспехи - защита и готовность к битве', 'Город позади - прошлое, от которого уезжает'],
    element: 'Вода',
    astrology: 'Рак',
    numerology: { number: 7, meaning: 'Победа, движение, контроль' },
    lifeAreas: {
      love: { upright: 'Решительные шаги в отношениях, победа над соперниками', reversed: 'Агрессия в отношениях, потеря контроля' },
      career: { upright: 'Карьерный прорыв, победа в конкуренции, продвижение', reversed: 'Потеря направления, неудачи в карьере' },
      health: { upright: 'Победа над болезнью, сила воли в лечении', reversed: 'Потеря контроля над здоровьем, стресс' },
      finances: { upright: 'Финансовый успех через настойчивость', reversed: 'Финансовые потери из-за поспешных решений' }
    },
    yesNo: { answer: 'Да', explanation: 'Решительность и воля приведут к победе' },
    advice: 'Возьмите ситуацию под контроль. Управляйте противоположными силами внутри себя.',
    affirmation: 'Я контролирую свою жизнь и двигаюсь к победе'
  },
  8: { // Сила
    description: 'Женщина мягко укрощает льва, не силой, а любовью и терпением. Карта внутренней силы и храбрости.',
    symbolism: ['Лев - животные инстинкты, страсти', 'Лемниската - бесконечная сила', 'Белое платье - чистота намерений', 'Цветочный венок - нежность и красота', 'Горы вдали - преодолённые испытания', 'Открытый рот льва - укрощённая агрессия'],
    element: 'Огонь',
    astrology: 'Лев',
    numerology: { number: 8, meaning: 'Сила, мужество, терпение' },
    lifeAreas: {
      love: { upright: 'Терпение в отношениях, укрощение страстей, глубокая связь', reversed: 'Неконтролируемые страсти, агрессия в любви' },
      career: { upright: 'Внутренняя сила в работе, преодоление трудностей', reversed: 'Профессиональное выгорание, слабость' },
      health: { upright: 'Сила духа в исцелении, победа над болезнью', reversed: 'Потеря сил, хронические проблемы' },
      finances: { upright: 'Терпение в финансовых делах приводит к успеху', reversed: 'Импульсивные траты, потеря контроля' }
    },
    yesNo: { answer: 'Да', explanation: 'Внутренняя сила поможет преодолеть препятствия' },
    advice: 'Используйте мягкую силу вместо грубой. Терпение и любовь - ваше оружие.',
    affirmation: 'Моя внутренняя сила бесконечна'
  },
  9: { // Отшельник
    description: 'Старец стоит на вершине горы с фонарём и посохом. Он ищет истину в одиночестве и освещает путь другим.',
    symbolism: ['Фонарь - внутренний свет мудрости', 'Звезда в фонаре - Звезда Давида, духовное озарение', 'Посох - опора и путь', 'Серый плащ - скромность, незаметность', 'Горная вершина - достижение духовных высот', 'Белая борода - мудрость возраста'],
    element: 'Земля',
    astrology: 'Дева',
    numerology: { number: 9, meaning: 'Завершение цикла, мудрость, уединение' },
    lifeAreas: {
      love: { upright: 'Время для саморефлексии, одиночество как выбор', reversed: 'Изоляция, отвержение, излишняя замкнутость' },
      career: { upright: 'Наставничество, исследования, работа в одиночку', reversed: 'Изоляция на работе, отсутствие поддержки' },
      health: { upright: 'Исцеление через уединение, медитация', reversed: 'Депрессия, социальная изоляция' },
      finances: { upright: 'Мудрое планирование, экономия, минимализм', reversed: 'Финансовая изоляция, скупость' }
    },
    yesNo: { answer: 'Нужно время', explanation: 'Ответ придёт через размышление и созерцание' },
    advice: 'Найдите время для уединения и самоанализа. Истина внутри вас.',
    affirmation: 'В тишине я нахожу ответы на все вопросы'
  },
  10: { // Колесо Фортуны
    description: 'Огромное колесо вращается в небесах с различными существами. Карта циклов судьбы и переменчивости жизни.',
    symbolism: ['Колесо - циклы судьбы', 'Сфинкс - загадки жизни, стабильность', 'Анубис - нисхождение, падение', 'Змей - восхождение, трансформация', 'Четыре существа по углам - евангелисты, стихии', 'Буквы TARO/ROTA - тайны Таро'],
    element: 'Огонь',
    astrology: 'Юпитер',
    numerology: { number: 10, meaning: 'Завершение и новое начало, карма' },
    lifeAreas: {
      love: { upright: 'Судьбоносная встреча, поворот в отношениях', reversed: 'Застой, невезение в любви' },
      career: { upright: 'Удачный поворот карьеры, везение', reversed: 'Неблагоприятные перемены, потеря работы' },
      health: { upright: 'Улучшение здоровья, позитивные перемены', reversed: 'Рецидивы, ухудшение состояния' },
      finances: { upright: 'Финансовое везение, выигрыш, удача', reversed: 'Финансовые потери, невезение' }
    },
    yesNo: { answer: 'Вероятно да', explanation: 'Колесо вращается в вашу пользу' },
    advice: 'Примите изменения как часть жизненного цикла. То, что было внизу, скоро будет наверху.',
    affirmation: 'Я принимаю изменения и верю в благоприятный исход'
  },
  11: { // Справедливость
    description: 'Фигура сидит между колоннами с мечом и весами. Карта баланса, кармы и объективной истины.',
    symbolism: ['Весы - баланс, справедливость', 'Меч - истина, правосудие', 'Красная мантия - страсть к справедливости', 'Корона - авторитет', 'Колонны - закон и порядок', 'Прямой взгляд - объективность'],
    element: 'Воздух',
    astrology: 'Весы',
    numerology: { number: 11, meaning: 'Справедливость, баланс, карма' },
    lifeAreas: {
      love: { upright: 'Справедливые отношения, брачный контракт', reversed: 'Несправедливость в отношениях, развод' },
      career: { upright: 'Юридические дела, справедливое решение, контракты', reversed: 'Судебные проблемы, несправедливость на работе' },
      health: { upright: 'Баланс в здоровье, правильный диагноз', reversed: 'Дисбаланс, неправильное лечение' },
      finances: { upright: 'Юридические финансовые дела, справедливое разделение', reversed: 'Судебные издержки, финансовая несправедливость' }
    },
    yesNo: { answer: 'Зависит от обстоятельств', explanation: 'Результат будет справедливым - что заслужили, то получите' },
    advice: 'Будьте честны с собой и другими. Карма возвращается.',
    affirmation: 'Я живу в гармонии с законами справедливости'
  },
  12: { // Повешенный
    description: 'Мужчина висит вниз головой на дереве, но выражение лица спокойное. Карта добровольной жертвы и нового видения.',
    symbolism: ['Перевёрнутое положение - новый взгляд на мир', 'Т-образное дерево - жертва, крест', 'Нимб - просветление через страдание', 'Скрещённая нога - четвёрка, стабильность в хаосе', 'Синяя одежда - духовность', 'Красные штаны - страсть и жизненная сила'],
    element: 'Вода',
    astrology: 'Нептун',
    numerology: { number: 12, meaning: 'Жертва, перспектива, подвешенность' },
    lifeAreas: {
      love: { upright: 'Жертва ради любви, новый взгляд на отношения', reversed: 'Бесполезная жертва, мученичество' },
      career: { upright: 'Пауза для переосмысления карьеры, добровольное ожидание', reversed: 'Застой, жертвенность без награды' },
      health: { upright: 'Исцеление через принятие, альтернативные методы', reversed: 'Ненужные жертвы в здоровье' },
      finances: { upright: 'Финансовая пауза для переоценки', reversed: 'Бессмысленные финансовые жертвы' }
    },
    yesNo: { answer: 'Подождите', explanation: 'Сейчас время паузы и переосмысления' },
    advice: 'Посмотрите на ситуацию под другим углом. Иногда нужно отпустить, чтобы получить.',
    affirmation: 'Я принимаю паузу как возможность для роста'
  },
  13: { // Смерть
    description: 'Скелет в доспехах едет на белом коне, неся чёрный флаг с белой розой. Карта трансформации и необратимых перемен.',
    symbolism: ['Скелет - то, что остаётся после смерти эго', 'Белый конь - чистота трансформации', 'Чёрный флаг - прощание со старым', 'Белая роза - новое начало', 'Восходящее солнце - надежда после тьмы', 'Падшие фигуры - все равны перед трансформацией'],
    element: 'Вода',
    astrology: 'Скорпион',
    numerology: { number: 13, meaning: 'Трансформация, конец, возрождение' },
    lifeAreas: {
      love: { upright: 'Конец отношений для нового начала, глубокая трансформация', reversed: 'Сопротивление необходимым переменам в любви' },
      career: { upright: 'Карьерная трансформация, уход для лучшего', reversed: 'Страх перемен, застой в карьере' },
      health: { upright: 'Очищение, детокс, исцеление через кризис', reversed: 'Отказ отпускать старые привычки' },
      finances: { upright: 'Финансовые перемены, конец одного источника для нового', reversed: 'Цепляние за старые финансовые модели' }
    },
    yesNo: { answer: 'Конец - начало нового', explanation: 'Старое должно уйти для нового' },
    advice: 'Не бойтесь перемен. Смерть старого открывает дверь для нового.',
    affirmation: 'Я отпускаю старое и приветствую трансформацию'
  },
  14: { // Умеренность
    description: 'Ангел стоит одной ногой в воде, другой на земле, переливая воду между чашами. Карта баланса и гармонии.',
    symbolism: ['Переливание воды - баланс противоположностей', 'Одна нога в воде - эмоции', 'Одна нога на земле - материальность', 'Солнце вдали - цель, путь', 'Крылья - духовное вознесение', 'Треугольник в квадрате - дух в материи'],
    element: 'Огонь',
    astrology: 'Стрелец',
    numerology: { number: 14, meaning: 'Баланс, умеренность, терпение' },
    lifeAreas: {
      love: { upright: 'Гармоничные отношения, баланс давать-брать', reversed: 'Дисбаланс в отношениях, крайности' },
      career: { upright: 'Баланс работа-жизнь, сотрудничество', reversed: 'Перегрузка, отсутствие баланса' },
      health: { upright: 'Баланс в диете, умеренность во всём', reversed: 'Излишества, зависимости' },
      finances: { upright: 'Сбалансированный бюджет, умеренные траты', reversed: 'Финансовые крайности, нестабильность' }
    },
    yesNo: { answer: 'Да, при соблюдении баланса', explanation: 'Умеренность приведёт к успеху' },
    advice: 'Найдите золотую середину. Крайности разрушают, баланс созидает.',
    affirmation: 'Я живу в гармонии и балансе'
  },
  15: { // Дьявол
    description: 'Рогатое существо сидит на постаменте, к которому цепями привязаны мужчина и женщина. Цепи свободные - они могут уйти.',
    symbolism: ['Перевёрнутая пентаграмма - материализм над духом', 'Свободные цепи - добровольное рабство', 'Рога - Бафомет, животная природа', 'Факел - искушение, разрушительная страсть', 'Хвосты у людей - животные инстинкты', 'Темнота - невежество, тень'],
    element: 'Земля',
    astrology: 'Козерог',
    numerology: { number: 15, meaning: 'Искушение, привязанность, теневая сторона' },
    lifeAreas: {
      love: { upright: 'Страсть, сексуальное влечение, но осторожно с зависимостью', reversed: 'Освобождение от токсичных отношений' },
      career: { upright: 'Рабство на работе, но хорошие деньги', reversed: 'Освобождение от карьерных цепей' },
      health: { upright: 'Зависимости, вредные привычки', reversed: 'Избавление от зависимостей' },
      finances: { upright: 'Материализм, погоня за деньгами любой ценой', reversed: 'Освобождение от финансовых оков' }
    },
    yesNo: { answer: 'Нет - или освободитесь', explanation: 'Вы в ловушке, но можете выбраться' },
    advice: 'Осознайте свои цепи. Только вы решаете, оставаться в рабстве или освободиться.',
    affirmation: 'Я осознаю свои привязанности и способен освободиться'
  },
  16: { // Башня
    description: 'Башня поражена молнией, люди падают вниз, корона слетает. Карта внезапного разрушения и откровения.',
    symbolism: ['Молния - божественное вмешательство, внезапность', 'Падающая корона - крушение эго', 'Падающие люди - неизбежность', 'Огонь - очищение через разрушение', 'Чёрное небо - хаос', 'Скалистый утёс - шаткое основание'],
    element: 'Огонь',
    astrology: 'Марс',
    numerology: { number: 16, meaning: 'Разрушение, откровение, освобождение' },
    lifeAreas: {
      love: { upright: 'Внезапный разрыв, шокирующая правда в отношениях', reversed: 'Страх перемен, продление агонии' },
      career: { upright: 'Увольнение, крах проекта, но освобождение', reversed: 'Сопротивление неизбежным переменам' },
      health: { upright: 'Кризис здоровья, но возможность переосмысления', reversed: 'Игнорирование серьёзных симптомов' },
      finances: { upright: 'Финансовый крах, но очищение от долгов', reversed: 'Затягивание финансового кризиса' }
    },
    yesNo: { answer: 'Нет - или через кризис', explanation: 'Ожидайте неожиданных перемен' },
    advice: 'Позвольте разрушиться тому, что построено на ложном фундаменте. После шторма будет ясность.',
    affirmation: 'Я принимаю необходимые разрушения как путь к истине'
  },
  17: { // Звезда
    description: 'Обнажённая женщина льёт воду в пруд и на землю под восемью звёздами. Карта надежды, исцеления и вдохновения.',
    symbolism: ['Восемь звёзд - семь чакр и высшее Я', 'Главная звезда - Полярная звезда, направление', 'Два кувшина - сознание и подсознание', 'Обнажённость - чистота, уязвимость', 'Птица на дереве - душа, надежда', 'Вода - эмоциональное исцеление'],
    element: 'Воздух',
    astrology: 'Водолей',
    numerology: { number: 17, meaning: 'Надежда, вдохновение, исцеление' },
    lifeAreas: {
      love: { upright: 'Надежда на любовь, исцеление сердца, соулмейт', reversed: 'Потеря надежды в любви, разочарование' },
      career: { upright: 'Вдохновение в работе, мечта сбывается', reversed: 'Потеря вдохновения, кризис смысла' },
      health: { upright: 'Исцеление, выздоровление, оптимизм', reversed: 'Потеря надежды на выздоровление' },
      finances: { upright: 'Финансовая надежда, помощь свыше', reversed: 'Потеря финансовой уверенности' }
    },
    yesNo: { answer: 'Да', explanation: 'Звёзды благоприятствуют, надежда оправдается' },
    advice: 'Сохраняйте надежду. После тьмы всегда приходит свет звёзд.',
    affirmation: 'Я излучаю свет и надежду, исцеляя себя и мир'
  },
  18: { // Луна
    description: 'Луна светит над пейзажем с собакой, волком и раком. Путь ведёт между двумя башнями в неизвестность.',
    symbolism: ['Полная луна - иллюзии, подсознание', 'Собака и волк - приручённые и дикие инстинкты', 'Рак - выход из подсознательных глубин', 'Две башни - врата в неизвестное', 'Извилистый путь - неопределённость', 'Капли воды - слёзы, очищение'],
    element: 'Вода',
    astrology: 'Рыбы',
    numerology: { number: 18, meaning: 'Иллюзии, страхи, интуиция' },
    lifeAreas: {
      love: { upright: 'Неясность в отношениях, тайные связи, интуитивная любовь', reversed: 'Раскрытие обмана, ясность после путаницы' },
      career: { upright: 'Неопределённость на работе, скрытые проблемы', reversed: 'Прояснение рабочей ситуации' },
      health: { upright: 'Психосоматика, неясный диагноз, ментальное здоровье', reversed: 'Прояснение состояния здоровья' },
      finances: { upright: 'Финансовая неопределённость, скрытые проблемы', reversed: 'Раскрытие финансовых схем' }
    },
    yesNo: { answer: 'Неясно', explanation: 'Слишком много неизвестного для точного ответа' },
    advice: 'Не верьте всему, что видите. Интуиция покажет путь через иллюзии.',
    affirmation: 'Я доверяю интуиции и не боюсь теней'
  },
  19: { // Солнце
    description: 'Ребёнок на белом коне под ярким солнцем. Подсолнухи поворачиваются к свету. Карта радости и успеха.',
    symbolism: ['Солнце - жизненная сила, успех', 'Ребёнок - невинность, радость', 'Белый конь - чистота намерений', 'Подсолнухи - поклонение свету', 'Красный флаг - жизненная энергия', 'Стена - защищённость'],
    element: 'Огонь',
    astrology: 'Солнце',
    numerology: { number: 19, meaning: 'Радость, успех, витальность' },
    lifeAreas: {
      love: { upright: 'Счастливая любовь, радость в отношениях, дети', reversed: 'Временные трудности в счастливых отношениях' },
      career: { upright: 'Успех, признание, радость от работы', reversed: 'Временные задержки успеха' },
      health: { upright: 'Отличное здоровье, энергия, витальность', reversed: 'Небольшие проблемы со здоровьем' },
      finances: { upright: 'Финансовый успех, процветание', reversed: 'Задержки финансового успеха' }
    },
    yesNo: { answer: 'Да!', explanation: 'Самая позитивная карта - успех гарантирован' },
    advice: 'Позвольте себе радоваться! Вы заслужили этот свет.',
    affirmation: 'Я сияю внутренним светом и привлекаю успех'
  },
  20: { // Суд
    description: 'Ангел трубит с небес, мёртвые восстают из гробов. Карта пробуждения, суда и второго шанса.',
    symbolism: ['Архангел Гавриил - пробуждение, весть', 'Труба - призыв к действию', 'Восстающие из гробов - второй шанс', 'Горы - препятствия преодолены', 'Флаг с крестом - духовное возрождение', 'Голубое небо - божественная благодать'],
    element: 'Огонь',
    astrology: 'Плутон',
    numerology: { number: 20, meaning: 'Суд, возрождение, призыв' },
    lifeAreas: {
      love: { upright: 'Возрождение отношений, второй шанс в любви', reversed: 'Упущенный шанс, самоосуждение' },
      career: { upright: 'Карьерное возрождение, призвание найдено', reversed: 'Упущенные возможности, самосаботаж' },
      health: { upright: 'Исцеление, выздоровление, второй шанс', reversed: 'Игнорирование сигналов тела' },
      finances: { upright: 'Финансовое возрождение, списание долгов', reversed: 'Неумение учиться на финансовых ошибках' }
    },
    yesNo: { answer: 'Да - пришло время', explanation: 'Момент истины и возрождения' },
    advice: 'Услышьте свой призыв. Пришло время подняться и начать заново.',
    affirmation: 'Я слышу свой призыв и готов к возрождению'
  },
  21: { // Мир
    description: 'Танцующая фигура в венке, окружённая четырьмя существами. Карта завершения, интеграции и достижения.',
    symbolism: ['Венок - победа, завершение цикла', 'Четыре существа - четыре элемента, четыре евангелиста', 'Танцующая фигура - радость достижения', 'Две палочки - баланс, целостность', 'Лента - бесконечность, связь', 'Фиолетовая ткань - духовность'],
    element: 'Земля',
    astrology: 'Сатурн',
    numerology: { number: 21, meaning: 'Завершение, целостность, достижение' },
    lifeAreas: {
      love: { upright: 'Гармоничные отношения, цельность, свадьба', reversed: 'Незавершённость в отношениях' },
      career: { upright: 'Достижение цели, признание, выход на мировой уровень', reversed: 'Незавершённые проекты, задержки' },
      health: { upright: 'Полное здоровье, гармония тела и духа', reversed: 'Незавершённое лечение' },
      finances: { upright: 'Финансовая целостность, достижение целей', reversed: 'Незавершённые финансовые дела' }
    },
    yesNo: { answer: 'Да - цикл завершён', explanation: 'Всё сходится, успех достигнут' },
    advice: 'Отпразднуйте свои достижения. Вы завершили важный цикл.',
    affirmation: 'Я целостен и в гармонии с миром'
  }
};

// Minor Arcana suit enrichment data
const SUIT_DATA = {
  wands: {
    element: 'Огонь',
    keywords: ['Творчество', 'Действие', 'Страсть', 'Энергия'],
    zodiacSigns: ['Овен', 'Лев', 'Стрелец'],
    season: 'Весна'
  },
  cups: {
    element: 'Вода',
    keywords: ['Эмоции', 'Интуиция', 'Отношения', 'Любовь'],
    zodiacSigns: ['Рак', 'Скорпион', 'Рыбы'],
    season: 'Лето'
  },
  swords: {
    element: 'Воздух',
    keywords: ['Интеллект', 'Конфликт', 'Решения', 'Коммуникация'],
    zodiacSigns: ['Близнецы', 'Весы', 'Водолей'],
    season: 'Осень'
  },
  pentacles: {
    element: 'Земля',
    keywords: ['Материя', 'Финансы', 'Работа', 'Тело'],
    zodiacSigns: ['Телец', 'Дева', 'Козерог'],
    season: 'Зима'
  }
};

// Number meanings for Minor Arcana
const NUMBER_MEANINGS = {
  1: { meaning: 'Начало, потенциал, семя', energy: 'инициация' },
  2: { meaning: 'Выбор, баланс, партнёрство', energy: 'дуальность' },
  3: { meaning: 'Рост, творчество, сотрудничество', energy: 'расширение' },
  4: { meaning: 'Стабильность, структура, пауза', energy: 'фундамент' },
  5: { meaning: 'Конфликт, изменение, кризис', energy: 'трансформация' },
  6: { meaning: 'Гармония, баланс, дары', energy: 'равновесие' },
  7: { meaning: 'Оценка, выбор, вера', energy: 'размышление' },
  8: { meaning: 'Движение, сила, действие', energy: 'интенсивность' },
  9: { meaning: 'Завершение, мудрость, итог', energy: 'кульминация' },
  10: { meaning: 'Конец цикла, переход, полнота', energy: 'завершение' },
  11: { meaning: 'Энтузиазм, начало пути, посланник', energy: 'Паж - молодость и потенциал' },
  12: { meaning: 'Действие, движение, приключение', energy: 'Рыцарь - активность и путь' },
  13: { meaning: 'Зрелость, власть, мастерство', energy: 'Королева - интуиция и понимание' },
  14: { meaning: 'Авторитет, контроль, достижение', energy: 'Король - мастерство и власть' }
};

// Minor Arcana detailed data
const MINOR_ARCANA_DATA = {
  // Жезлы (Wands)
  'wands-ace': {
    description: 'Рука из облака держит цветущий жезл. Начало творческого пути, вспышка вдохновения.',
    lifeAreas: {
      love: { upright: 'Новое увлечение, страстное начало', reversed: 'Задержка в развитии отношений' },
      career: { upright: 'Новый творческий проект, бизнес-идея', reversed: 'Идея без реализации' },
      health: { upright: 'Прилив энергии, новый спортивный режим', reversed: 'Потеря энтузиазма к здоровью' },
      finances: { upright: 'Новая возможность заработка', reversed: 'Упущенная возможность' }
    },
    yesNo: { answer: 'Да', explanation: 'Энергия для нового начала есть' },
    advice: 'Хватайтесь за новую возможность! Вдохновение не будет ждать.',
    affirmation: 'Я открыт новым творческим возможностям'
  },
  'wands-2': {
    description: 'Человек держит глобус и смотрит вдаль, два жезла по бокам. Планирование и выбор направления.',
    lifeAreas: {
      love: { upright: 'Решение о направлении отношений', reversed: 'Нерешительность в любви' },
      career: { upright: 'Планирование карьеры, выбор пути', reversed: 'Страх выбора, прокрастинация' },
      health: { upright: 'Планирование здорового образа жизни', reversed: 'Откладывание решений о здоровье' },
      finances: { upright: 'Планирование инвестиций', reversed: 'Неуверенность в финансовых решениях' }
    },
    yesNo: { answer: 'Да, если примете решение', explanation: 'Успех зависит от вашего выбора' },
    advice: 'Время планировать, но не медлить слишком долго.',
    affirmation: 'Я уверенно выбираю свой путь'
  },
  'wands-3': {
    description: 'Фигура стоит спиной, смотря на корабли вдали. Три жезла закреплены в земле. Расширение горизонтов.',
    lifeAreas: {
      love: { upright: 'Отношения расширяются, совместные планы', reversed: 'Ожидание не оправдывается' },
      career: { upright: 'Рост бизнеса, новые партнёры', reversed: 'Задержки в проектах' },
      health: { upright: 'Ожидание улучшения, новые методы', reversed: 'Разочарование в лечении' },
      finances: { upright: 'Инвестиции приносят плоды', reversed: 'Задержка прибыли' }
    },
    yesNo: { answer: 'Да, но потребуется терпение', explanation: 'Результаты придут, нужно подождать' },
    advice: 'Ваши труды дадут плоды. Продолжайте смотреть вперёд.',
    affirmation: 'Я расширяю свои горизонты'
  },
  'wands-4': {
    description: 'Четыре жезла образуют арку, украшенную цветами. Праздник, стабильность, домашний уют.',
    lifeAreas: {
      love: { upright: 'Праздник любви, помолвка, свадьба', reversed: 'Домашние проблемы' },
      career: { upright: 'Завершение проекта, празднование успеха', reversed: 'Незавершённые дела' },
      health: { upright: 'Гармония, период восстановления', reversed: 'Нестабильность самочувствия' },
      finances: { upright: 'Финансовая стабильность, покупка дома', reversed: 'Проблемы с недвижимостью' }
    },
    yesNo: { answer: 'Да', explanation: 'Время праздновать и наслаждаться достигнутым' },
    advice: 'Остановитесь и порадуйтесь тому, что создали.',
    affirmation: 'Я создаю стабильность и гармонию вокруг себя'
  },
  'wands-5': {
    description: 'Пять человек с жезлами в конфликте. Конкуренция, борьба мнений, но также здоровое соперничество.',
    lifeAreas: {
      love: { upright: 'Страстные споры, конкуренция за внимание', reversed: 'Избегание конфликта, подавление' },
      career: { upright: 'Конкуренция на работе, соревнование', reversed: 'Избегание конфронтации' },
      health: { upright: 'Активные тренировки, спортивные соревнования', reversed: 'Стресс от конфликтов' },
      finances: { upright: 'Конкурентные торги, борьба за контракт', reversed: 'Уклонение от финансовых споров' }
    },
    yesNo: { answer: 'Возможно, через борьбу', explanation: 'Придётся побороться за результат' },
    advice: 'Конфликт может быть продуктивным. Отстаивайте свою позицию.',
    affirmation: 'Я уверенно защищаю свои интересы'
  },
  'wands-6': {
    description: 'Всадник в венке победителя, толпа его приветствует. Победа, признание, триумф.',
    lifeAreas: {
      love: { upright: 'Признание в любви, публичные отношения', reversed: 'Задержка признания' },
      career: { upright: 'Победа, повышение, награда', reversed: 'Задержка продвижения' },
      health: { upright: 'Победа над болезнью', reversed: 'Отложенное выздоровление' },
      finances: { upright: 'Финансовый успех, премия', reversed: 'Задержка вознаграждения' }
    },
    yesNo: { answer: 'Да', explanation: 'Победа близко, успех гарантирован' },
    advice: 'Примите признание с достоинством. Вы заслужили триумф.',
    affirmation: 'Я заслуживаю признания и успеха'
  },
  'wands-7': {
    description: 'Человек обороняется жезлом от шести нападающих. Защита позиции, настойчивость.',
    lifeAreas: {
      love: { upright: 'Защита отношений от внешних угроз', reversed: 'Слишком много борьбы' },
      career: { upright: 'Защита своей позиции на работе', reversed: 'Выгорание от постоянной борьбы' },
      health: { upright: 'Борьба с болезнью', reversed: 'Истощение от борьбы' },
      finances: { upright: 'Защита финансов, конкурентная борьба', reversed: 'Слишком много усилий' }
    },
    yesNo: { answer: 'Да, если не сдадитесь', explanation: 'Успех требует настойчивости' },
    advice: 'Держите позицию, но следите за силами.',
    affirmation: 'Я стойко защищаю то, что важно для меня'
  },
  'wands-8': {
    description: 'Восемь жезлов летят по воздуху над пейзажем. Быстрое движение, новости, путешествие.',
    lifeAreas: {
      love: { upright: 'Стремительное развитие отношений', reversed: 'Задержки в развитии' },
      career: { upright: 'Быстрый прогресс, срочные проекты', reversed: 'Задержки, медленный темп' },
      health: { upright: 'Быстрое выздоровление', reversed: 'Замедленное восстановление' },
      finances: { upright: 'Быстрые деньги, срочные сделки', reversed: 'Задержка платежей' }
    },
    yesNo: { answer: 'Да, и быстро', explanation: 'События развиваются стремительно' },
    advice: 'Действуйте быстро, момент не ждёт.',
    affirmation: 'Я двигаюсь к цели с молниеносной скоростью'
  },
  'wands-9': {
    description: 'Раненый человек опирается на жезл, позади него ещё восемь. Стойкость после испытаний.',
    lifeAreas: {
      love: { upright: 'Защита отношений, бдительность', reversed: 'Паранойя в любви' },
      career: { upright: 'Готовность к новым вызовам', reversed: 'Профессиональное выгорание' },
      health: { upright: 'Выздоровление после болезни', reversed: 'Хроническая усталость' },
      finances: { upright: 'Защита накоплений', reversed: 'Финансовое истощение' }
    },
    yesNo: { answer: 'Да, если хватит сил', explanation: 'Успех возможен, но вы устали' },
    advice: 'Вы почти у цели. Соберите последние силы.',
    affirmation: 'Я обладаю силой преодолеть последние препятствия'
  },
  'wands-10': {
    description: 'Человек несёт тяжёлую ношу из десяти жезлов. Перегрузка, слишком много обязательств.',
    lifeAreas: {
      love: { upright: 'Тяжесть в отношениях, много обязательств', reversed: 'Освобождение от бремени' },
      career: { upright: 'Перегрузка на работе', reversed: 'Делегирование, облегчение' },
      health: { upright: 'Стресс, физическое истощение', reversed: 'Сброс напряжения' },
      finances: { upright: 'Финансовое бремя, долги', reversed: 'Освобождение от долгов' }
    },
    yesNo: { answer: 'Нет сейчас', explanation: 'Слишком много нагрузки' },
    advice: 'Пора что-то отпустить. Вы не можете нести всё.',
    affirmation: 'Я отпускаю лишнее и несу только необходимое'
  },
  'wands-page': {
    description: 'Молодой человек смотрит на цветущий жезл с любопытством. Энтузиазм, новые идеи, посланник.',
    lifeAreas: {
      love: { upright: 'Новое романтическое увлечение, молодой поклонник', reversed: 'Незрелость в любви' },
      career: { upright: 'Новая возможность, стажировка, обучение', reversed: 'Плохие новости о работе' },
      health: { upright: 'Энтузиазм к здоровому образу жизни', reversed: 'Непостоянство в режиме' },
      finances: { upright: 'Новости о финансах, небольшая сумма', reversed: 'Финансовая незрелость' }
    },
    yesNo: { answer: 'Да', explanation: 'Новое начинание получает поддержку' },
    advice: 'Будьте открыты новым идеям и возможностям.',
    affirmation: 'Я полон энтузиазма и готов к новому'
  },
  'wands-knight': {
    description: 'Рыцарь на коне мчится с жезлом. Действие, приключение, страсть, импульсивность.',
    lifeAreas: {
      love: { upright: 'Страстный роман, смелое признание', reversed: 'Поспешность в любви, ветреность' },
      career: { upright: 'Быстрое продвижение, командировки', reversed: 'Поспешные решения' },
      health: { upright: 'Активный спорт, энергия', reversed: 'Травмы от спешки' },
      finances: { upright: 'Рискованные но удачные инвестиции', reversed: 'Импульсивные траты' }
    },
    yesNo: { answer: 'Да, действуйте быстро', explanation: 'Время для решительных действий' },
    advice: 'Действуйте смело, но не безрассудно.',
    affirmation: 'Я действую решительно и уверенно'
  },
  'wands-queen': {
    description: 'Королева на троне с жезлом и подсолнухом, чёрная кошка у ног. Харизма, уверенность, независимость.',
    lifeAreas: {
      love: { upright: 'Страстная женщина, уверенность в любви', reversed: 'Ревность, доминирование' },
      career: { upright: 'Лидерство, творческий успех', reversed: 'Властность, конфликты' },
      health: { upright: 'Энергия, витальность', reversed: 'Перенапряжение' },
      finances: { upright: 'Финансовая независимость', reversed: 'Расточительность' }
    },
    yesNo: { answer: 'Да', explanation: 'Уверенность приведёт к успеху' },
    advice: 'Доверяйте своей силе и харизме.',
    affirmation: 'Я уверена в себе и своей силе'
  },
  'wands-king': {
    description: 'Король на троне с жезлом, саламандры на мантии. Лидерство, видение, предпринимательство.',
    lifeAreas: {
      love: { upright: 'Зрелый партнёр, лидер в отношениях', reversed: 'Тиран, деспот в любви' },
      career: { upright: 'Руководитель, предприниматель, визионер', reversed: 'Авторитарность, жёсткость' },
      health: { upright: 'Контроль над здоровьем', reversed: 'Игнорирование здоровья ради работы' },
      finances: { upright: 'Финансовый успех, инвестор', reversed: 'Рискованные решения' }
    },
    yesNo: { answer: 'Да', explanation: 'Лидерский подход обеспечит успех' },
    advice: 'Возьмите на себя лидерство в ситуации.',
    affirmation: 'Я лидер и визионер своей жизни'
  }
};

// Function to enrich a single card
function enrichCard(card) {
  const enriched = { ...card };

  // Major Arcana
  if (card.arcana === 'major' && MAJOR_ARCANA_DATA[card.number]) {
    const data = MAJOR_ARCANA_DATA[card.number];
    Object.assign(enriched, data);
  }

  // Minor Arcana
  if (card.arcana === 'minor') {
    const suitData = SUIT_DATA[card.suit];
    if (suitData) {
      enriched.element = suitData.element;
      enriched.suitKeywords = suitData.keywords;
      enriched.zodiacSigns = suitData.zodiacSigns;
      enriched.season = suitData.season;
    }

    // Determine card number for meaning
    let cardNum;
    const idParts = card._id.split('-');
    const lastPart = idParts[idParts.length - 1];

    if (lastPart === 'ace') cardNum = 1;
    else if (lastPart === 'page') cardNum = 11;
    else if (lastPart === 'knight') cardNum = 12;
    else if (lastPart === 'queen') cardNum = 13;
    else if (lastPart === 'king') cardNum = 14;
    else cardNum = parseInt(lastPart);

    if (cardNum && NUMBER_MEANINGS[cardNum]) {
      enriched.numerology = NUMBER_MEANINGS[cardNum];
    }

    // Check for specific minor arcana data
    const cardKey = `${card.suit}-${lastPart}`;
    if (MINOR_ARCANA_DATA[cardKey]) {
      Object.assign(enriched, MINOR_ARCANA_DATA[cardKey]);
    } else {
      // Generate generic data for cards without specific enrichment
      enriched.description = `Карта ${card.name} из масти ${getSuitNameRu(card.suit)}. ${suitData ? suitData.keywords.join(', ') + '.' : ''}`;
      enriched.lifeAreas = generateGenericLifeAreas(card, suitData);
      enriched.yesNo = { answer: 'Зависит от контекста', explanation: 'Рассмотрите все аспекты ситуации' };
      enriched.advice = `Обратите внимание на аспекты ${suitData ? suitData.keywords[0].toLowerCase() : 'этой карты'} в вашей жизни.`;
      enriched.affirmation = `Я гармонизирую энергию ${suitData ? suitData.element.toLowerCase() : 'этой карты'} в своей жизни`;
    }
  }

  return enriched;
}

function getSuitNameRu(suit) {
  const names = { wands: 'Жезлов', cups: 'Кубков', swords: 'Мечей', pentacles: 'Пентаклей' };
  return names[suit] || suit;
}

function generateGenericLifeAreas(card, suitData) {
  const suit = card.suit;
  const base = {
    wands: {
      love: { upright: 'Страсть и энергия в отношениях', reversed: 'Конфликты или потеря интереса' },
      career: { upright: 'Творческая энергия на работе', reversed: 'Блокировка творчества' },
      health: { upright: 'Энергия и витальность', reversed: 'Истощение энергии' },
      finances: { upright: 'Творческий подход к финансам', reversed: 'Импульсивные траты' }
    },
    cups: {
      love: { upright: 'Эмоциональная глубина в любви', reversed: 'Эмоциональные сложности' },
      career: { upright: 'Эмоциональное удовлетворение от работы', reversed: 'Эмоциональное выгорание' },
      health: { upright: 'Эмоциональное равновесие', reversed: 'Эмоциональный стресс' },
      finances: { upright: 'Интуитивные финансовые решения', reversed: 'Эмоциональные траты' }
    },
    swords: {
      love: { upright: 'Ясность в отношениях', reversed: 'Конфликты и недопонимание' },
      career: { upright: 'Интеллектуальные достижения', reversed: 'Конфликты на работе' },
      health: { upright: 'Ментальная ясность', reversed: 'Стресс и тревога' },
      finances: { upright: 'Аналитический подход к финансам', reversed: 'Необдуманные решения' }
    },
    pentacles: {
      love: { upright: 'Стабильность в отношениях', reversed: 'Материальные проблемы' },
      career: { upright: 'Материальный успех', reversed: 'Карьерные проблемы' },
      health: { upright: 'Физическое здоровье', reversed: 'Проблемы со здоровьем' },
      finances: { upright: 'Финансовая стабильность', reversed: 'Финансовые трудности' }
    }
  };
  return base[suit] || base.wands;
}

// Main execution
try {
  console.log('Reading cards.json...');
  const cards = JSON.parse(fs.readFileSync(cardsPath, 'utf8'));

  console.log(`Found ${cards.length} cards. Enriching...`);

  const enrichedCards = cards.map(card => enrichCard(card));

  // Update timestamps
  const now = new Date().toISOString();
  enrichedCards.forEach(card => {
    card.updatedAt = now;
  });

  console.log('Writing enriched cards...');
  fs.writeFileSync(cardsPath, JSON.stringify(enrichedCards, null, 2), 'utf8');

  console.log('Done! Cards enriched successfully.');

  // Print summary
  const majorCount = enrichedCards.filter(c => c.arcana === 'major').length;
  const minorCount = enrichedCards.filter(c => c.arcana === 'minor').length;
  console.log(`Major Arcana: ${majorCount}, Minor Arcana: ${minorCount}`);

} catch (error) {
  console.error('Error:', error.message);
  process.exit(1);
}
