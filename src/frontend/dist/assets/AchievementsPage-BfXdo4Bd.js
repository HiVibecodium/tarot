import{j as e}from"./index-CVF7lLOD.js";import{u as A,r as n}from"./vendor-react-CnWnGStI.js";import{u as w}from"./vendor-redux-BaGAZ_-q.js";import{c as P,A as o}from"./achievements-BYOhkVaU.js";import{a as p}from"./vendor-axios-B9ygI19o.js";import"./vendor-sentry-YIXFnBwd.js";const j="/api";function U(){const{token:d}=w(r=>r.auth),g=A(),[$,v]=n.useState(null),[C,_]=n.useState([]),[h,f]=n.useState([]),[E,k]=n.useState(!0);n.useEffect(()=>{N()},[]);const N=async()=>{try{const[r,i]=await Promise.all([p.get(`${j}/users/profile`,{headers:{Authorization:`Bearer ${d}`}}),p.get(`${j}/readings/history?limit=200`,{headers:{Authorization:`Bearer ${d}`}})]);v(r.data.data.user),_(i.data.data.readings||[]);const t=P(r.data.data.user,i.data.data.readings||[]);f(t)}catch(r){console.error("Load data error:",r)}finally{k(!1)}},y=Object.values(o),s=h.length,c=y.length,a=Math.round(s/c*100),b={"ðŸŽ´ Ð Ð°ÑÐºÐ»Ð°Ð´Ñ‹":["first_reading","ten_readings","fifty_readings","hundred_readings","spread_master"],"ðŸŽ¯ Ð ÐµÑˆÐµÐ½Ð¸Ñ":["first_decision","ten_decisions","question_master"],"ðŸ”¥ ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ":["week_streak","month_streak","weekend_warrior","early_bird","night_owl"],"ðŸŒŸ Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ":["love_seeker","wealth_builder","year_planner","birthday_celebrator","quick_thinker"],"ðŸ§™ Ð­ÐºÑÐ¿ÐµÑ€Ñ‚Ð½Ð¾ÑÑ‚ÑŒ":["astrology_explorer","numerology_student","journal_keeper","moon_watcher"],"ðŸ† ÐšÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸":["all_major_arcana","card_collector","full_deck","major_arcana_fan","cups_lover"],"ðŸ‘‘ ÐŸÑ€ÐµÐ¼Ð¸ÑƒÐ¼":["premium_user"]};return e.jsxs("div",{className:"achievements-page",children:[e.jsxs("div",{className:"achievements-hero",children:[e.jsx("button",{onClick:()=>g("/dashboard"),className:"btn-back-ach",children:"â† ÐÐ°Ð·Ð°Ð´"}),e.jsx("h1",{children:"ðŸ† Ð”Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ñ"}),e.jsx("p",{className:"hero-subtitle",children:"Ð’Ð°ÑˆÐ° ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ñ Ð½Ð°Ð³Ñ€Ð°Ð´ Ð¸ ÑƒÑÐ¿ÐµÑ…Ð¾Ð²"})]}),e.jsxs("div",{className:"achievements-content",children:[e.jsx("div",{className:"progress-overview",children:e.jsxs("div",{className:"progress-stats",children:[e.jsxs("div",{className:"progress-circle",children:[e.jsxs("svg",{width:"120",height:"120",children:[e.jsx("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:"#e0e0e0",strokeWidth:"8"}),e.jsx("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:"url(#gradient)",strokeWidth:"8",strokeDasharray:`${2*Math.PI*54}`,strokeDashoffset:`${2*Math.PI*54*(1-a/100)}`,transform:"rotate(-90 60 60)",strokeLinecap:"round"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#667eea"}),e.jsx("stop",{offset:"100%",stopColor:"#764ba2"})]})})]}),e.jsx("div",{className:"progress-text",children:e.jsxs("span",{className:"progress-percent",children:[a,"%"]})})]}),e.jsxs("div",{className:"progress-info",children:[e.jsx("h2",{children:"ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ Ð”Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ð¹"}),e.jsxs("p",{className:"progress-count",children:[e.jsx("span",{className:"count-unlocked",children:s})," Ð¸Ð· ",c," Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"]}),e.jsxs("p",{className:"progress-message",children:[a===100&&"ðŸŽ‰ Ð’Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð»Ð¸ Ð²ÑÐµ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ñ!",a>=75&&a<100&&"ðŸŒŸ ÐŸÐ¾Ñ‡Ñ‚Ð¸ Ñƒ Ñ†ÐµÐ»Ð¸! ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð²ÑÐµÐ¼ Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾!",a>=50&&a<75&&"âœ¨ ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ! ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ð¹Ñ‚Ðµ Ð² Ñ‚Ð¾Ð¼ Ð¶Ðµ Ð´ÑƒÑ…Ðµ!",a>=25&&a<50&&"ðŸš€ Ð¥Ð¾Ñ€Ð¾ÑˆÐµÐµ Ð½Ð°Ñ‡Ð°Ð»Ð¾! ÐœÐ½Ð¾Ð³Ð¾ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾Ð³Ð¾ Ð²Ð¿ÐµÑ€ÐµÐ´Ð¸!",a<25&&"ðŸŒ± ÐÐ°Ñ‡Ð°Ð»Ð¾ Ð¿ÑƒÑ‚Ð¸! Ð˜ÑÑÐ»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð¸ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ Ð½Ð¾Ð²Ð¾Ðµ!"]})]})]})}),Object.entries(b).map(([r,i])=>e.jsxs("div",{className:"achievement-category",children:[e.jsx("h3",{className:"category-title",children:r}),e.jsx("div",{className:"achievements-grid",children:i.map(t=>{var m,x,u;const l=h.includes(t);return e.jsxs("div",{className:`achievement-item ${l?"unlocked":"locked"}`,children:[e.jsx("div",{className:"achievement-icon",children:(m=o[t])==null?void 0:m.icon}),e.jsxs("div",{className:"achievement-details",children:[e.jsx("h4",{children:(x=o[t])==null?void 0:x.name}),e.jsx("p",{children:(u=o[t])==null?void 0:u.description}),!l&&e.jsxs("div",{className:"achievement-lock",children:[e.jsx("span",{className:"lock-icon",children:"ðŸ”’"}),e.jsx("span",{className:"lock-text",children:"Ð—Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"})]}),l&&e.jsx("div",{className:"achievement-unlocked-badge",children:"âœ“ Ð Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"})]})]},t)})})]},r)),e.jsxs("div",{className:"next-achievement-hint",children:[e.jsx("h3",{children:"ðŸ’¡ ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°"}),e.jsxs("p",{children:[s===0&&'Ð¡Ð´ÐµÐ»Ð°Ð¹Ñ‚Ðµ ÑÐ²Ð¾Ð¹ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ñ€Ð°ÑÐºÐ»Ð°Ð´, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ðµ "ÐŸÐµÑ€Ð²Ñ‹Ð¹ Ð Ð°ÑÐºÐ»Ð°Ð´"!',s>0&&s<5&&"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ð¹Ñ‚Ðµ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ñ€Ð°ÑÐºÐ»Ð°Ð´Ñ‹ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ ÑÐµÑ€Ð¸ÑŽ!",s>=5&&s<10&&"ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ñ€Ð°ÑÐºÐ»Ð°Ð´Ð¾Ð², Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ñ!",s>=10&&s<c&&"Ð’Ñ‹ Ð½Ð° Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¿ÑƒÑ‚Ð¸! Ð˜ÑÑÐ»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð²ÑÐµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ!",s===c&&"ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÐµÐ¼! Ð’Ñ‹ Ð¸ÑÑ‚Ð¸Ð½Ð½Ñ‹Ð¹ Ð¼Ð°ÑÑ‚ÐµÑ€! ðŸŽ‰"]})]})]})]})}export{U as default};
