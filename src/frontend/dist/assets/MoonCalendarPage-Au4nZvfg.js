import{r as l,b as r,j as e,M as p}from"./index-DGG8Ewhi.js";const S=()=>{const[a,m]=l.useState(null),[M,x]=l.useState(null),[c,j]=l.useState(null),[N,o]=l.useState(!0),[d,u]=l.useState(new Date().getMonth()+1),[i,v]=l.useState(new Date().getFullYear());l.useEffect(()=>{g()},[d,i]);const g=async()=>{o(!0);try{const[s,n,t]=await Promise.all([r.get(`https://tarot-a2oi.onrender.com/api/moon/calendar?year=${i}&month=${d}`),r.get("https://tarot-a2oi.onrender.com/api/moon/current"),r.get("https://tarot-a2oi.onrender.com/api/moon/next-full-moon")]);s.data.success&&m(s.data.data),n.data.success&&x(n.data.data),t.data.success&&j(t.data.data)}catch(s){console.error("Error fetching moon data:",s)}finally{o(!1)}},h=s=>{let n=d+s,t=i;n>12?(n=1,t++):n<1&&(n=12,t--),u(n),v(t)};return e.jsxs("div",{className:"moon-calendar-page",children:[e.jsxs("div",{className:"moon-header",children:[e.jsx("h1",{children:"ðŸŒ™ Ð›ÑƒÐ½Ð½Ñ‹Ð¹ ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ"}),e.jsx("p",{children:"Ð£Ð·Ð½Ð°Ð¹Ñ‚Ðµ Ð±Ð»Ð°Ð³Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð½Ñ‹Ðµ Ð´Ð½Ð¸ Ð´Ð»Ñ Ñ€Ð°ÑÐºÐ»Ð°Ð´Ð¾Ð² Ð¸ Ñ€Ð¸Ñ‚ÑƒÐ°Ð»Ð¾Ð²"})]}),e.jsxs("div",{className:"current-phase-section",children:[e.jsx("h2",{children:"Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ð¤Ð°Ð·Ð° Ð›ÑƒÐ½Ñ‹"}),e.jsx(p,{showDetails:!0,size:"large"})]}),c&&e.jsx("div",{className:"next-event-section",children:e.jsxs("div",{className:"next-event-card",children:[e.jsx("span",{className:"next-event-emoji",children:"ðŸŒ•"}),e.jsxs("div",{className:"next-event-info",children:[e.jsx("h3",{children:"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ ÐŸÐ¾Ð»Ð½Ð¾Ð»ÑƒÐ½Ð¸Ðµ"}),e.jsx("p",{className:"next-event-date",children:c.dateFormatted}),e.jsx("p",{className:"next-event-days",children:c.daysUntil===0?"Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ!":`Ð§ÐµÑ€ÐµÐ· ${c.daysUntil} ${f(c.daysUntil)}`})]})]})}),e.jsxs("div",{className:"calendar-section",children:[e.jsxs("div",{className:"calendar-controls",children:[e.jsx("button",{onClick:()=>h(-1),className:"month-nav-btn",children:"â† ÐŸÑ€ÐµÐ´. Ð¼ÐµÑÑÑ†"}),e.jsxs("h2",{children:[a==null?void 0:a.monthName," ",i]}),e.jsx("button",{onClick:()=>h(1),className:"month-nav-btn",children:"Ð¡Ð»ÐµÐ´. Ð¼ÐµÑÑÑ† â†’"})]}),N?e.jsx("div",{className:"calendar-loading",children:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ..."}):a?e.jsx("div",{className:"calendar-grid",children:a.days.map(s=>e.jsxs("div",{className:`calendar-day ${s.isSpecial?"special":""}`,children:[e.jsx("div",{className:"day-number",children:s.date}),e.jsx("div",{className:"day-weekday",children:s.dayOfWeek}),e.jsx("div",{className:"day-moon",children:s.emoji}),e.jsx("div",{className:"day-phase",children:s.phase}),e.jsxs("div",{className:"day-illumination",children:[s.illumination,"%"]})]},s.date))}):e.jsx("div",{className:"calendar-error",children:"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ"})]}),e.jsxs("div",{className:"legend-section",children:[e.jsx("h2",{children:"Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð¤Ð°Ð· Ð›ÑƒÐ½Ñ‹"}),e.jsxs("div",{className:"legend-grid",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"legend-emoji",children:"ðŸŒ‘"}),e.jsxs("div",{className:"legend-info",children:[e.jsx("h4",{children:"ÐÐ¾Ð²Ð¾Ð»ÑƒÐ½Ð¸Ðµ"}),e.jsx("p",{children:"ÐÐ¾Ð²Ñ‹Ðµ Ð½Ð°Ñ‡Ð¸Ð½Ð°Ð½Ð¸Ñ, Ð¿Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð½Ð°Ð¼ÐµÑ€ÐµÐ½Ð¸Ð¹"})]})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"legend-emoji",children:"ðŸŒ“"}),e.jsxs("div",{className:"legend-info",children:[e.jsx("h4",{children:"ÐŸÐµÑ€Ð²Ð°Ñ Ñ‡ÐµÑ‚Ð²ÐµÑ€Ñ‚ÑŒ"}),e.jsx("p",{children:"ÐŸÑ€ÐµÐ¾Ð´Ð¾Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€ÐµÐ¿ÑÑ‚ÑÑ‚Ð²Ð¸Ð¹, Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ"})]})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"legend-emoji",children:"ðŸŒ•"}),e.jsxs("div",{className:"legend-info",children:[e.jsx("h4",{children:"ÐŸÐ¾Ð»Ð½Ð¾Ð»ÑƒÐ½Ð¸Ðµ"}),e.jsx("p",{children:"ÐŸÐ¸Ðº ÑÐ½ÐµÑ€Ð³Ð¸Ð¸, Ð»ÑƒÑ‡ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ñ€Ð°ÑÐºÐ»Ð°Ð´Ð¾Ð²!"})]})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"legend-emoji",children:"ðŸŒ—"}),e.jsxs("div",{className:"legend-info",children:[e.jsx("h4",{children:"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÑÑ Ñ‡ÐµÑ‚Ð²ÐµÑ€Ñ‚ÑŒ"}),e.jsx("p",{children:"Ð ÐµÑ„Ð»ÐµÐºÑÐ¸Ñ, Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ, Ð¿Ð¾Ð´Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð¸Ñ‚Ð¾Ð³Ð¾Ð²"})]})]})]})]})]})};function f(a){return a===1?"Ð´ÐµÐ½ÑŒ":a>=2&&a<=4?"Ð´Ð½Ñ":"Ð´Ð½ÐµÐ¹"}export{S as default};
