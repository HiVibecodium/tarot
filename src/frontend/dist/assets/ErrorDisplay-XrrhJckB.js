import{j as s}from"./index-CVF7lLOD.js";import{u as g}from"./vendor-react-CnWnGStI.js";function v(n){var r,c,a,i,l,u,d,m,p,y;if(!n.response)return{type:"network",title:"ÐÐµÑ‚ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ",message:"ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ð¸ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.",icon:"ðŸ“¡",actions:["retry"],severity:"error"};const e=(r=n.response)==null?void 0:r.status,o=(i=(a=(c=n.response)==null?void 0:c.data)==null?void 0:a.error)==null?void 0:i.code,t=(d=(u=(l=n.response)==null?void 0:l.data)==null?void 0:u.error)==null?void 0:d.message;return e===401?{type:"auth",title:"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð²Ñ…Ð¾Ð´",message:t||"Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ð² Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶ÐµÐ½Ð¸Ñ.",icon:"ðŸ”",actions:["login"],severity:"warning"}:e===403?o==="PREMIUM_REQUIRED"?{type:"premium",title:"ÐŸÑ€ÐµÐ¼Ð¸ÑƒÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ",message:t||"Ð­Ñ‚Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼ Ð¿Ð¾Ð´Ð¿Ð¸ÑÑ‡Ð¸ÐºÐ°Ð¼.",icon:"ðŸ‘‘",actions:["upgrade"],severity:"info"}:{type:"forbidden",title:"Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð·Ð°Ð¿Ñ€ÐµÑ‰Ñ‘Ð½",message:t||"Ð£ Ð²Ð°Ñ Ð½ÐµÑ‚ Ð¿Ñ€Ð°Ð² Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ.",icon:"â›”",actions:[],severity:"error"}:e===404?{type:"notfound",title:"ÐÐµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾",message:t||"Ð—Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°ÐµÐ¼Ñ‹Ð¹ Ñ€ÐµÑÑƒÑ€Ñ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½.",icon:"ðŸ”",actions:["back"],severity:"warning"}:e===400?o==="WEAK_PASSWORD"?{type:"validation",title:"Ð¡Ð»Ð°Ð±Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",message:t||"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð±Ð¾Ð»ÐµÐµ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ.",icon:"ðŸ”’",actions:["retry"],severity:"warning",details:(y=(p=(m=n.response)==null?void 0:m.data)==null?void 0:p.error)==null?void 0:y.details}:o==="DAILY_LIMIT_REACHED"?{type:"limit",title:"Ð”Ð½ÐµÐ²Ð½Ð¾Ð¹ Ð»Ð¸Ð¼Ð¸Ñ‚",message:t||"Ð’Ñ‹ ÑƒÐ¶Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»Ð¸ Ñ€Ð°ÑÐºÐ»Ð°Ð´ Ð´Ð½Ñ.",icon:"â°",actions:["upgrade"],severity:"info"}:{type:"validation",title:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð²Ð¾Ð´Ð°",message:t||"ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð²Ð²ÐµÐ´Ñ‘Ð½Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ.",icon:"âš ï¸",actions:["retry"],severity:"warning"}:e===429?{type:"ratelimit",title:"Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²",message:t||"ÐŸÐ¾Ð´Ð¾Ð¶Ð´Ð¸Ñ‚Ðµ Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾ Ð¸ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.",icon:"â±ï¸",actions:[],severity:"warning"}:e>=500?{type:"server",title:"ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°",message:"Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°Ðº. ÐœÑ‹ ÑƒÐ¶Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÐ¼ Ð½Ð°Ð´ ÑÑ‚Ð¸Ð¼.",icon:"ðŸ”§",actions:["retry","support"],severity:"error"}:{type:"unknown",title:"ÐžÑˆÐ¸Ð±ÐºÐ°",message:t||"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð½ÐµÐ¿Ñ€ÐµÐ´Ð²Ð¸Ð´ÐµÐ½Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°.",icon:"âŒ",actions:["retry"],severity:"error"}}function f(n,e){return{retry:{label:"ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð°",variant:"primary",action:()=>window.location.reload()},login:{label:"Ð’Ð¾Ð¹Ñ‚Ð¸",variant:"primary",action:()=>e("/login")},upgrade:{label:"Ð£Ð·Ð½Ð°Ñ‚ÑŒ Ð¾ Premium",variant:"premium",action:()=>e("/premium")},back:{label:"ÐÐ°Ð·Ð°Ð´",variant:"secondary",action:()=>e(-1)},support:{label:"Ð¡Ð²ÑÐ·Ð°Ñ‚ÑŒÑÑ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹",variant:"secondary",action:()=>{window.open("mailto:support@tarot-assistant.com?subject=ÐžÑˆÐ¸Ð±ÐºÐ° Ð² Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸")}},dashboard:{label:"ÐÐ° Ð³Ð»Ð°Ð²Ð½ÑƒÑŽ",variant:"secondary",action:()=>e("/dashboard")}}[n]}function x({error:n,onRetry:e,context:o={}}){const t=g();if(!n)return null;const r=v(n),c=()=>!r.actions||r.actions.length===0?null:s.jsx("div",{className:"error-actions",children:r.actions.map(a=>{const i=f(a,t);return i?a==="retry"&&e?s.jsx("button",{onClick:e,className:`btn-${i.variant}`,children:i.label},a):s.jsx("button",{onClick:i.action,className:`btn-${i.variant}`,children:i.label},a):null})});return s.jsxs("div",{className:`error-display severity-${r.severity}`,children:[s.jsx("div",{className:"error-icon",children:r.icon}),s.jsxs("div",{className:"error-content",children:[s.jsx("h3",{className:"error-title",children:r.title}),s.jsx("p",{className:"error-message",children:r.message}),r.details&&r.details.length>0&&s.jsx("ul",{className:"error-details",children:r.details.map((a,i)=>s.jsx("li",{children:a},i))})]}),c()]})}export{x as E};
