import{j as s}from"./index--0xx9eWN.js";import{u as g,r as t}from"./vendor-react-CnWnGStI.js";import{u as v}from"./vendor-redux-BaGAZ_-q.js";import{a as o}from"./vendor-axios-B9ygI19o.js";import{u as S,T as w}from"./Toast-0NyDh50i.js";import{P as y}from"./SEO-B-NgKavl.js";import"./vendor-sentry-YIXFnBwd.js";const h="/api";function L(){const{token:c,user:d}=v(e=>e.auth),p=g(),i=S(),[x,j]=t.useState(!1),[l,u]=t.useState(null);t.useEffect(()=>{m()},[]);const m=async()=>{try{const e=await o.get(`${h}/stripe/subscription-status`,{headers:{Authorization:`Bearer ${c}`}});u(e.data.data)}catch(e){console.error("Load subscription status error:",e)}},N=async()=>{var e,a,n;j(!0);try{const r=await o.post(`${h}/stripe/create-checkout-session`,{},{headers:{Authorization:`Bearer ${c}`}});window.location.href=r.data.data.url}catch(r){console.error("Upgrade error:",r),i.error(((n=(a=(e=r.response)==null?void 0:e.data)==null?void 0:a.error)==null?void 0:n.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞—á–∞—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏"),j(!1)}},b=async()=>{var e,a,n;if(window.confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É?"))try{const r=await o.post(`${h}/stripe/cancel-subscription`,{},{headers:{Authorization:`Bearer ${c}`}});i.success(r.data.data.message),await m()}catch(r){console.error("Cancel subscription error:",r),i.error(((n=(a=(e=r.response)==null?void 0:e.data)==null?void 0:a.error)==null?void 0:n.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É")}},f=(d==null?void 0:d.subscriptionTier)==="premium";return s.jsxs("div",{className:"premium-page",children:[s.jsx(y,{}),i.toasts.map(e=>s.jsx(w,{message:e.message,type:e.type,duration:e.duration,onClose:()=>i.hideToast(e.id)},e.id)),s.jsxs("header",{className:"reading-header",children:[s.jsx("button",{onClick:()=>p("/dashboard"),className:"btn-back",children:"‚Üê –ù–∞–∑–∞–¥"}),s.jsx("h1",{children:"‚ú® –ü—Ä–µ–º–∏—É–º –ü–æ–¥–ø–∏—Å–∫–∞"})]}),s.jsx("main",{className:"premium-content",children:f?s.jsxs("div",{className:"premium-active",children:[s.jsxs("div",{className:"success-badge",children:[s.jsx("span",{className:"badge-icon",children:"üëë"}),s.jsx("h2",{children:"–£ –≤–∞—Å –ü—Ä–µ–º–∏—É–º!"}),s.jsx("p",{children:"–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–æ–µ–∫—Ç–∞"})]}),l&&s.jsxs("div",{className:"subscription-info",children:[s.jsx("h3",{children:"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ"}),s.jsxs("div",{className:"info-row",children:[s.jsx("span",{children:"–°—Ç–∞—Ç—É—Å:"}),s.jsx("span",{className:"status-active",children:"–ê–∫—Ç–∏–≤–Ω–∞"})]}),l.currentPeriodEnd&&s.jsxs("div",{className:"info-row",children:[s.jsx("span",{children:"–°–ª–µ–¥—É—é—â–µ–µ —Å–ø–∏—Å–∞–Ω–∏–µ:"}),s.jsx("span",{children:new Date(l.currentPeriodEnd).toLocaleDateString("ru-RU")})]}),s.jsx("button",{onClick:b,className:"btn-danger",style:{marginTop:"16px"},children:"–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É"})]}),s.jsxs("div",{className:"premium-features",children:[s.jsx("h3",{children:"–í–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"‚úÖ –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ä–∞—Å–∫–ª–∞–¥—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å"}),s.jsx("li",{children:"‚úÖ –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∫–∞—Ä—Ç"}),s.jsx("li",{children:"‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Ä–∞—Å–∫–ª–∞–¥–æ–≤"}),s.jsx("li",{children:"‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞"}),s.jsx("li",{children:"‚úÖ –†–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø –∫ –Ω–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º"})]})]})]}):s.jsxs("div",{className:"premium-offer",children:[s.jsxs("div",{className:"pricing-card",children:[s.jsxs("div",{className:"card-header",children:[s.jsx("h2",{children:"–ü—Ä–µ–º–∏—É–º"}),s.jsxs("div",{className:"price",children:[s.jsx("span",{className:"amount",children:"‚ÇΩ499"}),s.jsx("span",{className:"period",children:"/–º–µ—Å—è—Ü"})]})]}),s.jsxs("div",{className:"features-list",children:[s.jsx("h3",{children:"–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("span",{className:"icon",children:"‚ú®"}),s.jsx("span",{children:"–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ä–∞—Å–∫–ª–∞–¥—ã"})]}),s.jsxs("li",{children:[s.jsx("span",{className:"icon",children:"üîÆ"}),s.jsx("span",{children:"–í—Å–µ 78 –∫–∞—Ä—Ç –¢–∞—Ä–æ"})]}),s.jsxs("li",{children:[s.jsx("span",{className:"icon",children:"üìä"}),s.jsx("span",{children:"–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞"})]}),s.jsxs("li",{children:[s.jsx("span",{className:"icon",children:"üìñ"}),s.jsx("span",{children:"–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Ä–∞—Å–∫–ª–∞–¥–æ–≤"})]}),s.jsxs("li",{children:[s.jsx("span",{className:"icon",children:"üéØ"}),s.jsx("span",{children:"–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏"})]}),s.jsxs("li",{children:[s.jsx("span",{className:"icon",children:"üí¨"}),s.jsx("span",{children:"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞"})]}),s.jsxs("li",{children:[s.jsx("span",{className:"icon",children:"üöÄ"}),s.jsx("span",{children:"–†–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø –∫ –Ω–æ–≤–∏–Ω–∫–∞–º"})]})]})]}),s.jsx("button",{onClick:N,disabled:x,className:"btn-premium",children:x?"–ó–∞–≥—Ä—É–∑–∫–∞...":"üëë –û—Ñ–æ—Ä–º–∏—Ç—å –ü—Ä–µ–º–∏—É–º"}),s.jsxs("div",{className:"guarantee",children:[s.jsx("p",{children:"üîí –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ Stripe"}),s.jsx("p",{children:"‚ùå –û—Ç–º–µ–Ω–∞ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è"})]})]}),s.jsxs("div",{className:"comparison",children:[s.jsx("h3",{children:"–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π vs –ü—Ä–µ–º–∏—É–º"}),s.jsxs("table",{className:"comparison-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"–§—É–Ω–∫—Ü–∏—è"}),s.jsx("th",{children:"–ë–µ—Å–ø–ª–∞—Ç–Ω–æ"}),s.jsx("th",{children:"–ü—Ä–µ–º–∏—É–º"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"–†–∞—Å–∫–ª–∞–¥ –¥–Ω—è"}),s.jsx("td",{children:"1 –≤ –¥–µ–Ω—å"}),s.jsx("td",{children:"‚úÖ –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"–ê–Ω–∞–ª–∏–∑ —Ä–µ—à–µ–Ω–∏–π"}),s.jsx("td",{children:"–ë–∞–∑–æ–≤—ã–π"}),s.jsx("td",{children:"‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"–ò—Å—Ç–æ—Ä–∏—è"}),s.jsx("td",{children:"30 –¥–Ω–µ–π"}),s.jsx("td",{children:"‚úÖ –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"–ö–∞—Ä—Ç—ã –¢–∞—Ä–æ"}),s.jsx("td",{children:"22 –∫–∞—Ä—Ç—ã"}),s.jsx("td",{children:"‚úÖ –í—Å–µ 78 –∫–∞—Ä—Ç"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"–ü–æ–¥–¥–µ—Ä–∂–∫–∞"}),s.jsx("td",{children:"Email"}),s.jsx("td",{children:"‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è"})]})]})]})]})]})})]})}export{L as default};
