import { useState } from 'react'
import { useNavigate } from 'react-router-dom'
import axios from 'axios'
import './CompatibilityPage.css'

const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:4000/api'

const ZODIAC_SIGNS = [
  '–û–≤–µ–Ω', '–¢–µ–ª–µ—Ü', '–ë–ª–∏–∑–Ω–µ—Ü—ã', '–†–∞–∫', '–õ–µ–≤', '–î–µ–≤–∞',
  '–í–µ—Å—ã', '–°–∫–æ—Ä–ø–∏–æ–Ω', '–°—Ç—Ä–µ–ª–µ—Ü', '–ö–æ–∑–µ—Ä–æ–≥', '–í–æ–¥–æ–ª–µ–π', '–†—ã–±—ã'
]

const TAROT_CARDS = [
  {
    name: '–í–ª—é–±–ª—ë–Ω–Ω—ã–µ',
    meaning: '–ì–∞—Ä–º–æ–Ω–∏—è –∏ –≤—ã–±–æ—Ä —Å–µ—Ä–¥—Ü–∞',
    energy: 'positive',
    inRelation: '–í—ã –ø—Ä–∏–≤–Ω–æ—Å–∏—Ç–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –¥–µ–ª–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤—ã–±–æ—Ä—ã, –≥–∞—Ä–º–æ–Ω–∏—é –∏ –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å. –í–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è —Å–æ–∑–¥–∞—ë—Ç –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –≤–∑–∞–∏–º–Ω–æ–≥–æ —É–≤–∞–∂–µ–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –≤–∞–∂–Ω–æ—Å—Ç–∏ —Ä–µ—à–µ–Ω–∏–π –≤–º–µ—Å—Ç–µ.',
    strength: '–£–º–µ–Ω–∏–µ –≤–∏–¥–µ—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ —Ç–∞–∫–∏–º –∫–∞–∫–æ–π –æ–Ω –µ—Å—Ç—å, –ø—Ä–∏–Ω—è—Ç–∏–µ, –±–∞–ª–∞–Ω—Å'
  },
  {
    name: '–î–≤–æ–π–∫–∞ –ö—É–±–∫–æ–≤',
    meaning: '–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ –∏ –≤–∑–∞–∏–º–Ω–æ—Å—Ç—å',
    energy: 'positive',
    inRelation: '–í—ã –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ä—Ç–Ω—ë—Ä - —É–º–µ–µ—Ç–µ –¥–µ–ª–∏—Ç—å—Å—è, —Å–ª—É—à–∞—Ç—å, –Ω–∞—Ö–æ–¥–∏—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã. –í–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è —Å–æ–∑–¥–∞—ë—Ç —Ä–∞–≤–Ω–æ–ø—Ä–∞–≤–Ω–æ–µ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ, –≥–¥–µ –æ–±–∞ —á—É–≤—Å—Ç–≤—É—é—Ç —Å–µ–±—è —É—Å–ª—ã—à–∞–Ω–Ω—ã–º–∏.',
    strength: '–í–∑–∞–∏–º–Ω–æ—Å—Ç—å, —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É'
  },
  {
    name: '–¢—É–∑ –ö—É–±–∫–æ–≤',
    meaning: '–ù–æ–≤–∞—è –ª—é–±–æ–≤—å',
    energy: 'positive',
    inRelation: '–í—ã –ø—Ä–∏–Ω–æ—Å–∏—Ç–µ —Å–≤–µ–∂–µ—Å—Ç—å —á—É–≤—Å—Ç–≤, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ª—é–±–∏—Ç—å –∏—Å–∫—Ä–µ–Ω–Ω–µ. –í–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –Ω–µ –¥–∞—ë—Ç –∏–º –∑–∞—Å—Ç–æ—è—Ç—å—Å—è.',
    strength: '–û—Ç–∫—Ä—ã—Ç–æ–µ —Å–µ—Ä–¥—Ü–µ, –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ª—é–±–∏—Ç—å, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —â–µ–¥—Ä–æ—Å—Ç—å'
  },
  {
    name: '–î–µ—Å—è—Ç–∫–∞ –ö—É–±–∫–æ–≤',
    meaning: '–°—á–∞—Å—Ç—å–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö',
    energy: 'positive',
    inRelation: '–í—ã –ø—Ä–∏–≤–Ω–æ—Å–∏—Ç–µ —á—É–≤—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Ç—ã, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏, —Å–µ–º–µ–π–Ω–æ–≥–æ —Å—á–∞—Å—Ç—å—è. –í–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è —Å–æ–∑–¥–∞—ë—Ç –∞—Ç–º–æ—Å—Ñ–µ—Ä—É —Ç–µ–ø–ª–∞, –≥–¥–µ –∫–∞–∂–¥—ã–π —á—É–≤—Å—Ç–≤—É–µ—Ç —Å–µ–±—è –¥–æ–º–∞.',
    strength: '–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–º–µ–π–Ω–æ–≥–æ —É—é—Ç–∞, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å'
  },
  {
    name: '–°–æ–ª–Ω—Ü–µ',
    meaning: '–†–∞–¥–æ—Å—Ç—å –∏ –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å',
    energy: 'positive',
    inRelation: '–í—ã –æ—Å–≤–µ—â–∞–µ—Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –ø–æ–∑–∏—Ç–∏–≤–æ–º, –æ–ø—Ç–∏–º–∏–∑–º–æ–º, –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å—é. –í–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è –¥–µ–ª–∞–µ—Ç —Å–≤—è–∑—å –ª—ë–≥–∫–æ–π, —Ä–∞–¥–æ—Å—Ç–Ω–æ–π, –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Å–º–µ—Ö–æ–º –∏ —Ç–µ–ø–ª–æ–º.',
    strength: '–ü–æ–∑–∏—Ç–∏–≤–Ω–æ—Å—Ç—å, —á–µ—Å—Ç–Ω–æ—Å—Ç—å, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–¥–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ'
  },
  {
    name: '–ó–≤–µ–∑–¥–∞',
    meaning: '–ù–∞–¥–µ–∂–¥–∞ –∏ –∏—Å—Ü–µ–ª–µ–Ω–∏–µ',
    energy: 'positive',
    inRelation: '–í—ã –ø—Ä–∏–≤–Ω–æ—Å–∏—Ç–µ –Ω–∞–¥–µ–∂–¥—É, –≤–µ—Ä—É –≤ –ª—É—á—à–µ–µ, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏—Å—Ü–µ–ª—è—Ç—å —Ä–∞–Ω—ã. –í–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è –ø–æ–º–æ–≥–∞–µ—Ç –ø–∞—Ä—Ç–Ω—ë—Ä—É —Ä–∞—Å—Ç–∏, –∑–∞–ª–µ—á–∏–≤–∞—Ç—å –ø—Ä–æ—à–ª—ã–µ —Ç—Ä–∞–≤–º—ã, –≤–µ—Ä–∏—Ç—å –≤ –±—É–¥—É—â–µ–µ.',
    strength: '–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –∏—Å—Ü–µ–ª–µ–Ω–∏–µ, –≤–µ—Ä–∞ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è'
  },
  {
    name: '–ò–º–ø–µ—Ä–∞—Ç—Ä–∏—Ü–∞',
    meaning: '–ó–∞–±–æ—Ç–∞ –∏ –ø–ª–æ–¥–æ—Ä–æ–¥–∏–µ',
    energy: 'positive',
    inRelation: '–í—ã –∑–∞–±–æ—Ç–ª–∏–≤—ã, —â–µ–¥—Ä—ã, —Å–æ–∑–¥–∞—ë—Ç–µ –∏–∑–æ–±–∏–ª–∏–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. –í–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è –ø–∏—Ç–∞–µ—Ç –ø–∞—Ä—Ç–Ω—ë—Ä–∞, –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞—Å—Ç–∏, —Å–æ–∑–¥–∞—ë—Ç –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –±–µ–∑—É—Å–ª–æ–≤–Ω–æ–π –ª—é–±–≤–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.',
    strength: '–ó–∞–±–æ—Ç–∞, –ø–∏—Ç–∞–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π, —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±–∏–ª–∏—è'
  },
  {
    name: '–ü—è—Ç—ë—Ä–∫–∞ –ö—É–±–∫–æ–≤',
    meaning: '–ü–æ—Ç–µ—Ä–∏ –∏ —Å–æ–∂–∞–ª–µ–Ω–∏—è',
    energy: 'challenging',
    inRelation: '–í—ã –º–æ–∂–µ—Ç–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—à–ª—ã—Ö –æ–±–∏–¥–∞—Ö, —É–ø—É—â–µ–Ω–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö. –í–∞–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è –æ—Ç–ø—É—Å–∫–∞—Ç—å, —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–æ–º —á—Ç–æ –µ—Å—Ç—å, –∞ –Ω–µ –Ω–∞ —Ç–æ–º —á—Ç–æ –ø–æ—Ç–µ—Ä—è–Ω–æ.',
    strength: '–ì–ª—É–±–∏–Ω–∞ —á—É–≤—Å—Ç–≤, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ü–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ –ø–æ—Ç–µ—Ä—å'
  },
  {
    name: '–ë–∞—à–Ω—è',
    meaning: '–ü–µ—Ä–µ–º–µ–Ω—ã –∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ',
    energy: 'challenging',
    inRelation: '–í—ã –∫–∞—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π - —Ä–∞–∑—Ä—É—à–∞–µ—Ç–µ —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ, –ø—Ä–æ–≤–æ—Ü–∏—Ä—É–µ—Ç–µ –∫—Ä–∏–∑–∏—Å—ã —Ä–æ—Å—Ç–∞. –≠—Ç–æ —Å–ª–æ–∂–Ω–æ, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –í–∞–∂–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —ç—Ç—É —ç–Ω–µ—Ä–≥–∏—é –Ω–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏.',
    strength: '–ß–µ—Å—Ç–Ω–æ—Å—Ç—å, —Å–º–µ–ª–æ—Å—Ç—å –º–µ–Ω—è—Ç—å, –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç –ª–æ–∂–Ω–æ–≥–æ'
  },
  {
    name: '–î—å—è–≤–æ–ª',
    meaning: '–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è',
    energy: 'challenging',
    inRelation: '–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Å–≤–æ–±–æ–¥—É –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –∏–ª–∏ —Å–≤–æ—é. –í–∞–∂–Ω–æ –æ—Å–æ–∑–Ω–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–Ω—Ç—Ä–æ–ª—è, —Ä–µ–≤–Ω–æ—Å—Ç–∏, —Å—Ç—Ä–∞—Ö–æ–≤ –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º.',
    strength: '–ì–ª—É–±–æ–∫–∞—è —Å—Ç—Ä–∞—Å—Ç—å, –ª–æ—è–ª—å–Ω–æ—Å—Ç—å, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —á—É–≤—Å—Ç–≤'
  }
]

const COMPATIBILITY_DATA = {
  '–û–≤–µ–Ω': { best: ['–õ–µ–≤', '–°—Ç—Ä–µ–ª–µ—Ü', '–ë–ª–∏–∑–Ω–µ—Ü—ã'], good: ['–í–æ–¥–æ–ª–µ–π', '–í–µ—Å—ã'], challenging: ['–†–∞–∫', '–ö–æ–∑–µ—Ä–æ–≥'] },
  '–¢–µ–ª–µ—Ü': { best: ['–î–µ–≤–∞', '–ö–æ–∑–µ—Ä–æ–≥', '–†–∞–∫'], good: ['–†—ã–±—ã', '–°–∫–æ—Ä–ø–∏–æ–Ω'], challenging: ['–õ–µ–≤', '–í–æ–¥–æ–ª–µ–π'] },
  '–ë–ª–∏–∑–Ω–µ—Ü—ã': { best: ['–í–µ—Å—ã', '–í–æ–¥–æ–ª–µ–π', '–û–≤–µ–Ω'], good: ['–õ–µ–≤', '–°—Ç—Ä–µ–ª–µ—Ü'], challenging: ['–î–µ–≤–∞', '–†—ã–±—ã'] },
  '–†–∞–∫': { best: ['–°–∫–æ—Ä–ø–∏–æ–Ω', '–†—ã–±—ã', '–¢–µ–ª–µ—Ü'], good: ['–î–µ–≤–∞', '–ö–æ–∑–µ—Ä–æ–≥'], challenging: ['–û–≤–µ–Ω', '–í–µ—Å—ã'] },
  '–õ–µ–≤': { best: ['–û–≤–µ–Ω', '–°—Ç—Ä–µ–ª–µ—Ü', '–ë–ª–∏–∑–Ω–µ—Ü—ã'], good: ['–í–µ—Å—ã', '–í–æ–¥–æ–ª–µ–π'], challenging: ['–¢–µ–ª–µ—Ü', '–°–∫–æ—Ä–ø–∏–æ–Ω'] },
  '–î–µ–≤–∞': { best: ['–¢–µ–ª–µ—Ü', '–ö–æ–∑–µ—Ä–æ–≥', '–°–∫–æ—Ä–ø–∏–æ–Ω'], good: ['–†–∞–∫', '–†—ã–±—ã'], challenging: ['–ë–ª–∏–∑–Ω–µ—Ü—ã', '–°—Ç—Ä–µ–ª–µ—Ü'] },
  '–í–µ—Å—ã': { best: ['–ë–ª–∏–∑–Ω–µ—Ü—ã', '–í–æ–¥–æ–ª–µ–π', '–õ–µ–≤'], good: ['–û–≤–µ–Ω', '–°—Ç—Ä–µ–ª–µ—Ü'], challenging: ['–†–∞–∫', '–ö–æ–∑–µ—Ä–æ–≥'] },
  '–°–∫–æ—Ä–ø–∏–æ–Ω': { best: ['–†–∞–∫', '–†—ã–±—ã', '–î–µ–≤–∞'], good: ['–¢–µ–ª–µ—Ü', '–ö–æ–∑–µ—Ä–æ–≥'], challenging: ['–õ–µ–≤', '–í–æ–¥–æ–ª–µ–π'] },
  '–°—Ç—Ä–µ–ª–µ—Ü': { best: ['–û–≤–µ–Ω', '–õ–µ–≤', '–í–æ–¥–æ–ª–µ–π'], good: ['–ë–ª–∏–∑–Ω–µ—Ü—ã', '–í–µ—Å—ã'], challenging: ['–î–µ–≤–∞', '–†—ã–±—ã'] },
  '–ö–æ–∑–µ—Ä–æ–≥': { best: ['–¢–µ–ª–µ—Ü', '–î–µ–≤–∞', '–°–∫–æ—Ä–ø–∏–æ–Ω'], good: ['–†–∞–∫', '–†—ã–±—ã'], challenging: ['–û–≤–µ–Ω', '–í–µ—Å—ã'] },
  '–í–æ–¥–æ–ª–µ–π': { best: ['–ë–ª–∏–∑–Ω–µ—Ü—ã', '–í–µ—Å—ã', '–°—Ç—Ä–µ–ª–µ—Ü'], good: ['–û–≤–µ–Ω', '–õ–µ–≤'], challenging: ['–¢–µ–ª–µ—Ü', '–°–∫–æ—Ä–ø–∏–æ–Ω'] },
  '–†—ã–±—ã': { best: ['–†–∞–∫', '–°–∫–æ—Ä–ø–∏–æ–Ω', '–¢–µ–ª–µ—Ü'], good: ['–î–µ–≤–∞', '–ö–æ–∑–µ—Ä–æ–≥'], challenging: ['–ë–ª–∏–∑–Ω–µ—Ü—ã', '–°—Ç—Ä–µ–ª–µ—Ü'] }
}

function CompatibilityPage() {
  const navigate = useNavigate()

  // Person 1 data
  const [yourName, setYourName] = useState('')
  const [yourBirthDate, setYourBirthDate] = useState('')
  const [yourBirthTime, setYourBirthTime] = useState('')
  const [yourBirthPlace, setYourBirthPlace] = useState('–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è')
  const [yourSign, setYourSign] = useState('')
  const [yourMoon, setYourMoon] = useState('')
  const [yourRising, setYourRising] = useState('')
  const [yourVenus, setYourVenus] = useState('')
  const [yourMars, setYourMars] = useState('')

  // Person 2 data
  const [partnerName, setPartnerName] = useState('')
  const [partnerBirthDate, setPartnerBirthDate] = useState('')
  const [partnerBirthTime, setPartnerBirthTime] = useState('')
  const [partnerBirthPlace, setPartnerBirthPlace] = useState('–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è')
  const [partnerSign, setPartnerSign] = useState('')
  const [partnerMoon, setPartnerMoon] = useState('')
  const [partnerRising, setPartnerRising] = useState('')
  const [partnerVenus, setPartnerVenus] = useState('')
  const [partnerMars, setPartnerMars] = useState('')

  const [mode, setMode] = useState('simple') // simple or advanced
  const [result, setResult] = useState(null)
  const [calculating, setCalculating] = useState({ person1: false, person2: false })
  const [numerologyResult, setNumerologyResult] = useState(null)
  const [_calculatingNumerology, setCalculatingNumerology] = useState(false)

  // Calculate natal chart from birth data
  const calculateNatalChart = async (birthDate, birthTime, birthPlace, person) => {
    if (!birthDate || !birthTime) {
      alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è')
      return
    }

    setCalculating(prev => ({ ...prev, [person]: true }))

    try {
      // Use temporary calculation endpoint (no saving)
      const response = await axios.post(
        `${API_URL}/astrology/calculate-temp`,
        {
          birthDate,
          birthTime,
          birthPlace: birthPlace || '–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è',
          timezone: 'Europe/Moscow'
        }
      )

      const chart = response.data.data

      console.log('Received chart data:', chart)
      console.log('Rising sign data:', chart.risingSign)
      console.log('Planets data:', chart.planets)

      if (person === 'person1') {
        setYourSign(chart.sunSign?.sign || chart.sunSign || '')
        setYourMoon(chart.moonSign?.sign || chart.moonSign || '')
        setYourRising(chart.risingSign?.sign || chart.ascendant?.sign || chart.rising?.sign || '')
        setYourVenus(chart.planets?.Venus?.sign || chart.planets?.venus?.sign || chart.venus?.sign || '')
        setYourMars(chart.planets?.Mars?.sign || chart.planets?.mars?.sign || chart.mars?.sign || '')
      } else {
        setPartnerSign(chart.sunSign?.sign || chart.sunSign || '')
        setPartnerMoon(chart.moonSign?.sign || chart.moonSign || '')
        setPartnerRising(chart.risingSign?.sign || chart.ascendant?.sign || chart.rising?.sign || '')
        setPartnerVenus(chart.planets?.Venus?.sign || chart.planets?.venus?.sign || chart.venus?.sign || '')
        setPartnerMars(chart.planets?.Mars?.sign || chart.planets?.mars?.sign || chart.mars?.sign || '')
      }
    } catch (error) {
      console.error('Calculate natal chart error:', error)
      alert('–û—à–∏–±–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–≤–µ—Å—Ç–∏ –ø–ª–∞–Ω–µ—Ç—ã –≤—Ä—É—á–Ω—É—é.')
    } finally {
      setCalculating(prev => ({ ...prev, [person]: false }))
    }
  }

  // Calculate numerology compatibility
  const calculateNumerologyCompatibility = async () => {
    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –¥–∞—Ç—É –∏–∑ YYYY-MM-DD –≤ DD.MM.YYYY –¥–ª—è –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏
    const formatDateForNumerology = (dateStr) => {
      if (!dateStr) return null
      const [year, month, day] = dateStr.split('-')
      return `${day}.${month}.${year}`
    }

    const yourFormattedDate = formatDateForNumerology(yourBirthDate)
    const partnerFormattedDate = formatDateForNumerology(partnerBirthDate)

    if (!yourFormattedDate || !partnerFormattedDate) {
      return null
    }

    setCalculatingNumerology(true)

    try {
      // –ü–æ–ª—É—á–∞–µ–º life path numbers –¥–ª—è –æ–±–æ–∏—Ö
      const yourLifePath = await calculateLifePath(yourFormattedDate)
      const partnerLifePath = await calculateLifePath(partnerFormattedDate)

      if (!yourLifePath || !partnerLifePath) {
        setCalculatingNumerology(false)
        return
      }

      // –†–∞—Å—á—ë—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø–æ –º–∞—Ç—Ä–∏—Ü–µ (1-10)
      const score = calculateNumerologyScore(yourLifePath, partnerLifePath)

      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
      const level = score >= 9 ? '–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–∞—è' :
                    score >= 7 ? '–û—Ç–ª–∏—á–Ω–∞—è' :
                    score >= 5 ? '–•–æ—Ä–æ—à–∞—è' :
                    score >= 3 ? '–°—Ä–µ–¥–Ω—è—è' : '–°–ª–æ–∂–Ω–∞—è'

      const description = score >= 9 ? '–≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ! –í–∞—à–∏ —ç–Ω–µ—Ä–≥–∏–∏ —Ä–µ–∑–æ–Ω–∏—Ä—É—é—Ç –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ.' :
                         score >= 7 ? '–û—á–µ–Ω—å –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –≤–∑–∞–∏–º–æ–ø–æ–Ω–∏–º–∞–Ω–∏–µ–º.' :
                         score >= 5 ? '–ö—Ä–µ–ø–∫–∏–π —Å–æ—é–∑ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º —Ä–æ—Å—Ç–∞.' :
                         score >= 3 ? '–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏.' :
                         '–ü–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–∏–ª–∏—è –¥–ª—è –≥–∞—Ä–º–æ–Ω–∏–∏.'

      setNumerologyResult({
        yourLifePath,
        partnerLifePath,
        score,
        level,
        description,
        percentage: score * 10  // –ü–µ—Ä–µ–≤–æ–¥–∏–º –≤ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
      })
    } catch (error) {
      console.error('Numerology compatibility error:', error)
    } finally {
      setCalculatingNumerology(false)
    }
  }

  // –ú–∞—Ç—Ä–∏—Ü–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏
  const calculateNumerologyScore = (num1, num2) => {
    const matrix = {
      1: { 1: 7, 2: 6, 3: 9, 4: 5, 5: 10, 6: 6, 7: 8, 8: 7, 9: 8, 11: 8, 22: 6, 33: 7 },
      2: { 1: 6, 2: 8, 3: 7, 4: 9, 5: 6, 6: 10, 7: 6, 8: 9, 9: 7, 11: 10, 22: 8, 33: 9 },
      3: { 1: 9, 2: 7, 3: 8, 4: 6, 5: 10, 6: 8, 7: 9, 8: 6, 9: 10, 11: 9, 22: 7, 33: 10 },
      4: { 1: 5, 2: 9, 3: 6, 4: 7, 5: 5, 6: 9, 7: 7, 8: 10, 9: 6, 11: 7, 22: 10, 33: 8 },
      5: { 1: 10, 2: 6, 3: 10, 4: 5, 5: 8, 6: 7, 7: 10, 8: 6, 9: 9, 11: 9, 22: 7, 33: 8 },
      6: { 1: 6, 2: 10, 3: 8, 4: 9, 5: 7, 6: 9, 7: 6, 8: 8, 9: 10, 11: 10, 22: 9, 33: 10 },
      7: { 1: 8, 2: 6, 3: 9, 4: 7, 5: 10, 6: 6, 7: 8, 8: 7, 9: 8, 11: 10, 22: 8, 33: 9 },
      8: { 1: 7, 2: 9, 3: 6, 4: 10, 5: 6, 6: 8, 7: 7, 8: 9, 9: 7, 11: 8, 22: 10, 33: 8 },
      9: { 1: 8, 2: 7, 3: 10, 4: 6, 5: 9, 6: 10, 7: 8, 8: 7, 9: 9, 11: 9, 22: 8, 33: 10 },
      11: { 1: 8, 2: 10, 3: 9, 4: 7, 5: 9, 6: 10, 7: 10, 8: 8, 9: 9, 11: 10, 22: 9, 33: 10 },
      22: { 1: 6, 2: 8, 3: 7, 4: 10, 5: 7, 6: 9, 7: 8, 8: 10, 9: 8, 11: 9, 22: 10, 33: 9 },
      33: { 1: 7, 2: 9, 3: 10, 4: 8, 5: 8, 6: 10, 7: 9, 8: 8, 9: 10, 11: 10, 22: 9, 33: 10 }
    }
    return matrix[num1]?.[num2] || 5
  }

  // Helper: Calculate life path number
  const calculateLifePath = async (birthDate) => {
    try {
      const response = await axios.post(
        `${API_URL}/numerology/quick-calculate`,
        { type: 'lifePath', value: birthDate }
      )
      return response.data.data.number
    } catch (error) {
      console.error('Life path calculation error:', error)
      return null
    }
  }

  const calculateCompatibility = async () => {
    if (!yourSign || !partnerSign) {
      alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–±–∞ –∑–Ω–∞–∫–∞ –∑–æ–¥–∏–∞–∫–∞')
      return
    }

    let totalScore = 0
    let maxScore = 0
    const details = {}

    // 1. Sun sign compatibility (30 points)
    const yourData = COMPATIBILITY_DATA[yourSign]
    let sunScore = 15
    if (yourData.best.includes(partnerSign)) sunScore = 30
    else if (yourData.good.includes(partnerSign)) sunScore = 22
    else if (yourData.challenging.includes(partnerSign)) sunScore = 10
    totalScore += sunScore
    maxScore += 30
    details.sun = { score: sunScore, max: 30 }

    // 2. Moon sign compatibility (25 points) - –µ—Å–ª–∏ –µ—Å—Ç—å
    if (mode === 'advanced' && yourMoon && partnerMoon) {
      const moonData = COMPATIBILITY_DATA[yourMoon]
      let moonScore = 12
      if (moonData.best.includes(partnerMoon)) moonScore = 25
      else if (moonData.good.includes(partnerMoon)) moonScore = 18
      else if (moonData.challenging.includes(partnerMoon)) moonScore = 8
      totalScore += moonScore
      maxScore += 25
      details.moon = { score: moonScore, max: 25 }
    }

    // 3. Venus sign compatibility (20 points) - –µ—Å–ª–∏ –µ—Å—Ç—å
    if (mode === 'advanced' && yourVenus && partnerVenus) {
      const venusData = COMPATIBILITY_DATA[yourVenus]
      let venusScore = 10
      if (venusData.best.includes(partnerVenus)) venusScore = 20
      else if (venusData.good.includes(partnerVenus)) venusScore = 15
      else if (venusData.challenging.includes(partnerVenus)) venusScore = 6
      totalScore += venusScore
      maxScore += 20
      details.venus = { score: venusScore, max: 20 }
    }

    // 4. Mars sign compatibility (15 points) - –µ—Å–ª–∏ –µ—Å—Ç—å
    if (mode === 'advanced' && yourMars && partnerMars) {
      const marsData = COMPATIBILITY_DATA[yourMars]
      let marsScore = 7
      if (marsData.best.includes(partnerMars)) marsScore = 15
      else if (marsData.good.includes(partnerMars)) marsScore = 11
      else if (marsData.challenging.includes(partnerMars)) marsScore = 5
      totalScore += marsScore
      maxScore += 15
      details.mars = { score: marsScore, max: 15 }
    }

    // 5. Rising sign compatibility (10 points) - –µ—Å–ª–∏ –µ—Å—Ç—å
    if (mode === 'advanced' && yourRising && partnerRising) {
      const risingData = COMPATIBILITY_DATA[yourRising]
      let risingScore = 5
      if (risingData.best.includes(partnerRising)) risingScore = 10
      else if (risingData.good.includes(partnerRising)) risingScore = 7
      else if (risingData.challenging.includes(partnerRising)) risingScore = 3
      totalScore += risingScore
      maxScore += 10
      details.rising = { score: risingScore, max: 10 }
    }

    // Calculate percentage
    let percentage = maxScore > 0 ? Math.round((totalScore / maxScore) * 100) : 60

    // Draw Tarot cards
    const shuffled = [...TAROT_CARDS].sort(() => Math.random() - 0.5)
    const yourCard = shuffled[0]
    const partnerCard = shuffled[1]

    // Adjust percentage based on Tarot
    if (yourCard.energy === 'positive' && partnerCard.energy === 'positive') {
      percentage = Math.min(95, percentage + 5)
    } else if (yourCard.energy === 'challenging' && partnerCard.energy === 'challenging') {
      percentage = Math.max(40, percentage - 5)
    }

    // Determine level
    let level = 'medium'
    if (percentage >= 80) level = 'excellent'
    else if (percentage >= 65) level = 'good'
    else if (percentage < 55) level = 'challenging'

    setResult({
      level,
      percentage,
      yourSign,
      partnerSign,
      yourName: yourName || yourSign,
      partnerName: partnerName || partnerSign,
      yourCard,
      partnerCard,
      details,
      mode
    })

    // –¢–∞–∫–∂–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è
    if (yourBirthDate && partnerBirthDate) {
      await calculateNumerologyCompatibility()
    }

    // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—Å–ª–µ —Ä–∞—Å—á—ë—Ç–∞
    setTimeout(() => {
      window.scrollTo({ top: 0, behavior: 'smooth' })
    }, 100)
  }

  const reset = () => {
    setResult(null)
    setYourSign('')
    setPartnerSign('')
    setYourName('')
    setPartnerName('')
  }

  const getDetailedAnalysis = (yourSign, partnerSign, details) => {
    // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∑–Ω–∞–∫–æ–≤
    const sunCompat = details.sun?.score || 15
    const moonCompat = details.moon?.score || 0
    const venusCompat = details.venus?.score || 0

    const strengths = []
    const challenges = []
    const advice = []

    // Strengths based on high scores
    if (sunCompat >= 25) {
      strengths.push(`–í–∞—à–∏ –ª–∏—á–Ω–æ—Å—Ç–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ —Ä–µ–∑–æ–Ω–∏—Ä—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º`)
      strengths.push(`–õ–µ–≥–∫–æ –ø–æ–Ω–∏–º–∞–µ—Ç–µ –º–æ—Ç–∏–≤—ã –∏ –∂–µ–ª–∞–Ω–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞`)
      strengths.push(`–°—Ö–æ–∂–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏ –∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏`)
    } else {
      strengths.push(`–í—ã —É—á–∏—Ç–µ—Å—å —É —Ä–∞–∑–ª–∏—á–∏–π –¥—Ä—É–≥ –¥—Ä—É–≥–∞`)
      strengths.push(`–î–æ–ø–æ–ª–Ω—è—é—â–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–æ–∑–¥–∞—é—Ç –±–∞–ª–∞–Ω—Å`)
    }

    if (moonCompat >= 18) {
      strengths.push(`–ì–ª—É–±–æ–∫–∞—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ`)
      strengths.push(`–°—Ö–æ–∂–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏`)
      strengths.push(`–õ–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ —Ç—Ä—É–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã`)
    }

    if (venusCompat >= 15) {
      strengths.push(`–°—Ö–æ–∂–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ª—é–±–≤–∏ –∏ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏`)
      strengths.push(`–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Ö–∏–º–∏—è`)
      strengths.push(`–û–±—â–∏–µ —ç—Å—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ –≤–∫—É—Å—ã –∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã`)
    }

    // Challenges based on low scores
    if (sunCompat < 15) {
      challenges.push(`–†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –∂–∏–∑–Ω–∏ —Ç—Ä–µ–±—É—é—Ç –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤`)
      challenges.push(`–í–∞–∂–Ω–æ —É–≤–∞–∂–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞`)
      challenges.push(`–ü–æ–∏—Å–∫ –æ–±—â–µ–≥–æ —è–∑—ã–∫–∞ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è`)
    }

    if (moonCompat > 0 && moonCompat < 12) {
      challenges.push(`–†–∞–∑–Ω—ã–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏`)
      challenges.push(`–°–ø–æ—Å–æ–±—ã –≤—ã—Ä–∞–∂–µ–Ω–∏—è —á—É–≤—Å—Ç–≤ –º–æ–≥—É—Ç –Ω–µ —Å–æ–≤–ø–∞–¥–∞—Ç—å`)
      challenges.push(`–ù—É–∂–Ω–æ —É—á–∏—Ç—å—Å—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –≥–∏–±–∫–æ—Å—Ç–∏`)
    }

    if (venusCompat > 0 && venusCompat < 10) {
      challenges.push(`–†–∞–∑–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ –ª—é–±–≤–∏ –∏ —Ä–æ–º–∞–Ω—Ç–∏–∫–µ`)
      challenges.push(`–í–∞–∂–Ω–æ –≤—ã—Ä–∞–∂–∞—Ç—å –ª—é–±–æ–≤—å –ø–æ–Ω—è—Ç–Ω—ã–º –ø–∞—Ä—Ç–Ω—ë—Ä—É —Å–ø–æ—Å–æ–±–æ–º`)
      challenges.push(`–ö–æ–º–ø—Ä–æ–º–∏—Å—Å –≤ –ø—Ä–æ—è–≤–ª–µ–Ω–∏–∏ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏`)
    }

    // Advice
    advice.push(`–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±—Å—É–∂–¥–∞–π—Ç–µ –æ–∂–∏–¥–∞–Ω–∏—è –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏`)
    advice.push(`–¶–µ–Ω–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞, –Ω–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å`)

    if (moonCompat > 0 && moonCompat < 18) {
      advice.push(`–ò–∑—É—á–∏—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —è–∑—ã–∫ –¥—Ä—É–≥ –¥—Ä—É–≥–∞`)
    }

    if (details.mars) {
      advice.push(`–ù–∞–π–¥–∏—Ç–µ –æ–±—â–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Ü–µ–ª–∏`)
      advice.push(`–ù–∞–ø—Ä–∞–≤–ª—è–π—Ç–µ —ç–Ω–µ—Ä–≥–∏—é –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã`)
    }

    advice.push(`–†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞–¥ —Å–æ–≤–º–µ—Å—Ç–Ω—ã–º –±—É–¥—É—â–∏–º, —Å–æ—Ö—Ä–∞–Ω—è—è –ª–∏—á–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ`)
    advice.push(`–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —Ä–æ—Å—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞`)

    return { strengths, challenges, advice }
  }

  // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
  const getZodiacTraits = (sign) => {
    const traits = {
      '–û–≤–µ–Ω': '–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–π –ª–∏–¥–µ—Ä, –∏–º–ø—É–ª—å—Å–∏–≤–Ω—ã–π, –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω—ã–π, —Å—Ç—Ä–∞—Å—Ç–Ω—ã–π',
      '–¢–µ–ª–µ—Ü': '–ù–∞–¥—ë–∂–Ω—ã–π, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π, —á—É–≤—Å—Ç–≤–µ–Ω–Ω—ã–π, —É–ø—Ä—è–º—ã–π',
      '–ë–ª–∏–∑–Ω–µ—Ü—ã': '–û–±—â–∏—Ç–µ–ª—å–Ω—ã–π, –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–π, –≥–∏–±–∫–∏–π, –ø–µ—Ä–µ–º–µ–Ω—á–∏–≤—ã–π',
      '–†–∞–∫': '–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –∑–∞–±–æ—Ç–ª–∏–≤—ã–π, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π, –∑–∞—â–∏—Ç–Ω—ã–π',
      '–õ–µ–≤': '–©–µ–¥—Ä—ã–π, —É–≤–µ—Ä–µ–Ω–Ω—ã–π, —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π, –≥–æ—Ä–¥—ã–π',
      '–î–µ–≤–∞': '–ê–Ω–∞–ª–∏—Ç–∏—á–Ω—ã–π, –ø–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π, —Å–∫—Ä–æ–º–Ω—ã–π',
      '–í–µ—Å—ã': '–î–∏–ø–ª–æ–º–∞—Ç–∏—á–Ω—ã–π, –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã–π, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π, –Ω–µ—Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã–π',
      '–°–∫–æ—Ä–ø–∏–æ–Ω': '–°—Ç—Ä–∞—Å—Ç–Ω—ã–π, –≥–ª—É–±–æ–∫–∏–π, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π, —Å–∫—Ä—ã—Ç–Ω—ã–π',
      '–°—Ç—Ä–µ–ª–µ—Ü': '–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π, —Å–≤–æ–±–æ–¥–æ–ª—é–±–∏–≤—ã–π, —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π, –ø—Ä—è–º–æ–π',
      '–ö–æ–∑–µ—Ä–æ–≥': '–ê–º–±–∏—Ü–∏–æ–∑–Ω—ã–π, –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π, —Å–µ—Ä—å—ë–∑–Ω—ã–π',
      '–í–æ–¥–æ–ª–µ–π': '–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π, –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π, –≥—É–º–∞–Ω–Ω—ã–π, –æ—Ç—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π',
      '–†—ã–±—ã': '–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π, —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π, —Å–æ—Å—Ç—Ä–∞–¥–∞—Ç–µ–ª—å–Ω—ã–π, –º–µ—á—Ç–∞—Ç–µ–ª—å–Ω—ã–π'
    }
    return traits[sign] || '–£–Ω–∏–∫–∞–ª—å–Ω–∞—è –ª–∏—á–Ω–æ—Å—Ç—å —Å –æ—Å–æ–±—ã–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞–º–∏'
  }

  const getZodiacDynamics = (sign1, sign2, percentage) => {
    if (percentage >= 70) {
      return `–°–æ—á–µ—Ç–∞–Ω–∏–µ ${sign1} –∏ ${sign2} —Å–æ–∑–¥–∞—ë—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—É—é –≥–∞—Ä–º–æ–Ω–∏—é. –í—ã –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω–∏–º–∞–µ—Ç–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏ –ª–µ–≥–∫–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ –æ–±—â–∏–π —è–∑—ã–∫. –í–∞—à–∏ —ç–Ω–µ—Ä–≥–∏–∏ —É—Å–∏–ª–∏–≤–∞—é—Ç –ª—É—á—à–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∞.`
    } else if (percentage >= 50) {
      return `${sign1} –∏ ${sign2} –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –∂–∏–∑–Ω–∏, –Ω–æ —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –¥–∏–Ω–∞–º–∏–∫—É. –í—ã –º–æ–∂–µ—Ç–µ –º–Ω–æ–≥–æ–º—É –Ω–∞—É—á–∏—Ç—å—Å—è –¥—Ä—É–≥ —É –¥—Ä—É–≥–∞, –µ—Å–ª–∏ –±—É–¥–µ—Ç–µ —Ç–µ—Ä–ø–µ–ª–∏–≤—ã –∏ –æ—Ç–∫—Ä—ã—Ç—ã –∫ —Ä–∞–∑–ª–∏—á–∏—è–º.`
    } else {
      return `–°–æ—é–∑ ${sign1} –∏ ${sign2} —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–±–æ—Ç—ã –∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤. –í–∞—à–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç–∏ –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å, –Ω–æ –ø—Ä–∏ –≤–∑–∞–∏–º–Ω–æ–º —É–≤–∞–∂–µ–Ω–∏–∏ –∏ –∂–µ–ª–∞–Ω–∏–∏ –ø–æ–Ω—è—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞, —ç—Ç–∏ —Ä–∞–∑–ª–∏—á–∏—è –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º —Ä–æ—Å—Ç–∞.`
    }
  }

  const getLifePathMeaning = (number) => {
    const meanings = {
      1: '–õ–∏–¥–µ—Ä, –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π, –∏–Ω–Ω–æ–≤–∞—Ç–∏–≤–Ω—ã–π. –°—Ç—Ä–µ–º–∏—Ç—Å—è –∫ —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –Ω–æ–≤—ã–º –Ω–∞—á–∏–Ω–∞–Ω–∏—è–º.',
      2: '–ú–∏—Ä–æ—Ç–≤–æ—Ä–µ—Ü, –¥–∏–ø–ª–æ–º–∞—Ç, –ø–∞—Ä—Ç–Ω—ë—Ä. –¶–µ–Ω–∏—Ç –≥–∞—Ä–º–æ–Ω–∏—é –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ.',
      3: '–¢–≤–æ—Ä–µ—Ü, –∫–æ–º–º—É–Ω–∏–∫–∞—Ç–æ—Ä, –æ–ø—Ç–∏–º–∏—Å—Ç. –í—ã—Ä–∞–∂–∞–µ—Ç —Å–µ–±—è —á–µ—Ä–µ–∑ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ –æ–±—â–µ–Ω–∏–µ.',
      4: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å, –ø—Ä–∞–∫—Ç–∏–∫, –Ω–∞–¥—ë–∂–Ω—ã–π. –°–æ–∑–¥–∞—ë—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ—Ä—è–¥–æ–∫.',
      5: '–ò—Å–∫–∞—Ç–µ–ª—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π, —Å–≤–æ–±–æ–¥–æ–ª—é–±–∏–≤—ã–π, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π. –ñ–∞–∂–¥–µ—Ç –ø–µ—Ä–µ–º–µ–Ω –∏ –æ–ø—ã—Ç–∞.',
      6: '–í–æ—Å–ø–∏—Ç–∞—Ç–µ–ª—å, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π, –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã–π. –ó–∞–±–æ—Ç–∏—Ç—Å—è –æ –±–ª–∏–∑–∫–∏—Ö –∏ —Å–æ–∑–¥–∞—ë—Ç —É—é—Ç.',
      7: '–§–∏–ª–æ—Å–æ—Ñ, –∞–Ω–∞–ª–∏—Ç–∏–∫, –¥—É—Ö–æ–≤–Ω—ã–π. –ò—â–µ—Ç –≥–ª—É–±–∏–Ω—É –∏ –∏—Å—Ç–∏–Ω—É.',
      8: '–ú–∞–≥–Ω–∞—Ç, –∞–º–±–∏—Ü–∏–æ–∑–Ω—ã–π, –≤–ª–∞—Å—Ç–Ω—ã–π. –°—Ç—Ä–µ–º–∏—Ç—Å—è –∫ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–º—É —É—Å–ø–µ—Ö—É –∏ –≤–ª–∞—Å—Ç–∏.',
      9: '–ì—É–º–∞–Ω–∏—Å—Ç, –º—É–¥—Ä—ã–π, –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π. –°–ª—É–∂–∏—Ç —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤—É –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ü–∏–∫–ª—ã.',
      11: '–ú–∞—Å—Ç–µ—Ä-—É—á–∏—Ç–µ–ª—å, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π, –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π. –í—ã—Å–æ–∫–∏–µ –¥—É—Ö–æ–≤–Ω—ã–µ —Ü–µ–ª–∏.',
      22: '–ú–∞—Å—Ç–µ—Ä-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å, –≤–∏–∑–∏–æ–Ω–µ—Ä, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π –º–µ—á—Ç–∞—Ç–µ–ª—å. –í–æ–ø–ª–æ—â–∞–µ—Ç –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω—ã–µ –∏–¥–µ–∏.',
      33: '–ú–∞—Å—Ç–µ—Ä-—Ü–µ–ª–∏—Ç–µ–ª—å, –ª—é–±—è—â–∏–π, —Å–∞–º–æ–æ—Ç–≤–µ—Ä–∂–µ–Ω–Ω—ã–π. –°–ª—É–∂–∏—Ç —á–µ—Ä–µ–∑ –±–µ–∑—É—Å–ª–æ–≤–Ω—É—é –ª—é–±–æ–≤—å.'
    }
    return meanings[number] || '–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—É—Ç—å —Å –æ—Å–æ–±–æ–π –º–∏—Å—Å–∏–µ–π.'
  }

  const getNumerologyInteraction = (num1, num2, score) => {
    if (score >= 8) {
      return `–ß–∏—Å–ª–∞ ${num1} –∏ ${num2} —Å–æ–∑–¥–∞—é—Ç –º–æ—â–Ω—ã–π —Ä–µ–∑–æ–Ω–∞–Ω—Å. –í–∞—à–∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–µ –ø—É—Ç–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –¥–æ–ø–æ–ª–Ω—è—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞, —Å–æ–∑–¥–∞–≤–∞—è —Å–∏—Ç—É–∞—Ü–∏—é "1+1=3". –í—ã —É—Å–∏–ª–∏–≤–∞–µ—Ç–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –ø—Ä–æ—Å—Ç–æ —Å–≤–æ–∏–º –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ–º.`
    } else if (score >= 5) {
      return `–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–∏—Å–µ–ª ${num1} –∏ ${num2} —Å–æ–∑–¥–∞—ë—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –±–∞–ª–∞–Ω—Å. –£ –≤–∞—Å —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã, –Ω–æ —ç—Ç–æ –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∏–¥–µ—Ç—å –º–∏—Ä —à–∏—Ä–µ. –í—ã –º–æ–∂–µ—Ç–µ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –Ω–æ–≤—ã–º–∏ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞–º–∏.`
    } else {
      return `–ß–∏—Å–ª–∞ ${num1} –∏ ${num2} –¥–≤–∏–∂—É—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–∏—Ç–º–∞—Ö. –≠—Ç–æ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, –Ω–æ —Ç–∞–∫–∂–µ –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å–≤–æ–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã. –ö–ª—é—á ‚Äî –≤ —É–≤–∞–∂–µ–Ω–∏–∏ –∫ –ø—É—Ç–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –∏ –ø–æ–∏—Å–∫–µ –æ–±—â–∏—Ö —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π.`
    }
  }

  const getLevelData = (level) => {
    const data = {
      excellent: {
        color: '#4caf50',
        title: '–û—Ç–ª–∏—á–Ω–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å!',
        emoji: 'üíö',
        description: '–í–∞—à–∏ —ç–Ω–µ—Ä–≥–∏–∏ –≥–∞—Ä–º–æ–Ω–∏—á–Ω–æ –¥–æ–ø–æ–ª–Ω—è—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞!'
      },
      good: {
        color: '#2196f3',
        title: '–•–æ—Ä–æ—à–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å',
        emoji: 'üíô',
        description: '–£ –≤–∞—Å –µ—Å—Ç—å –ø—Ä–æ—á–Ω–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π'
      },
      medium: {
        color: '#ff9800',
        title: '–°—Ä–µ–¥–Ω—è—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å',
        emoji: 'üíõ',
        description: '–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏'
      },
      challenging: {
        color: '#f44336',
        title: '–°–ª–æ–∂–Ω–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å',
        emoji: '‚ù§Ô∏è',
        description: '–û—Ç–Ω–æ—à–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç —É—Å–∏–ª–∏–π, –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã'
      }
    }
    return data[level] || data.medium
  }

  // –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö —Ç—Ä—ë—Ö –º–µ—Ç–æ–¥–æ–≤
  const getIntegratedAnalysis = () => {
    if (!result) return null

    const scores = {
      astrology: result.percentage,
      numerology: numerologyResult?.percentage || null,
      tarot: result.yourCard && result.partnerCard ? 70 : null // –ü—Ä–∏–º–µ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ –¢–∞—Ä–æ
    }

    // –ü–æ–¥—Å—á—ë—Ç —Å—Ä–µ–¥–Ω–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
    const validScores = Object.values(scores).filter(s => s !== null)
    const averageScore = validScores.reduce((a, b) => a + b, 0) / validScores.length

    // –ê–Ω–∞–ª–∏–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥–æ–≤
    const maxDiff = Math.max(...validScores) - Math.min(...validScores)
    const isConsistent = maxDiff < 25

    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
    const overallLevel = averageScore >= 70 ? 'excellent' :
                        averageScore >= 55 ? 'good' :
                        averageScore >= 40 ? 'medium' : 'challenging'

    // –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞
    let analysis = ''
    const strengths = []
    const challenges = []
    const recommendations = []

    // –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ –æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥–æ–≤
    if (isConsistent) {
      analysis = `‚ú® –í—Å–µ —Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ ‚Äî –¢–∞—Ä–æ, –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è –∏ –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è ‚Äî –µ–¥–∏–Ω–æ–¥—É—à–Ω—ã –≤ —Å–≤–æ–µ–π –æ—Ü–µ–Ω–∫–µ, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–µ –≤–∞—à–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π.\n\n`
    } else {
      analysis = `üåà –†–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ (—Ä–∞–∑–±—Ä–æ—Å ${Math.round(maxDiff)}%), —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ –º–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –≥–ª—É–±–∏–Ω–µ –≤–∞—à–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π. –í—ã –¥–æ–ø–æ–ª–Ω—è–µ—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö.\n\n`
    }

    // –î–µ—Ç–∞–ª—å–Ω—ã–π –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
    analysis += `üåü –ê–°–¢–†–û–õ–û–ì–ò–Ø (${scores.astrology}%):\n`
    if (scores.astrology >= 70) {
      analysis += `–ú–µ–∂–¥—É –≤–∞—à–∏–º–∏ –∑–Ω–∞–∫–∞–º–∏ —Ü–∞—Ä–∏—Ç —Å–∏–ª—å–Ω–∞—è –∫–æ—Å–º–∏—á–µ—Å–∫–∞—è –≥–∞—Ä–º–æ–Ω–∏—è. ${result.yourSign} –∏ ${result.partnerSign} —Å–æ–∑–¥–∞—é—Ç —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑–æ–Ω–∞–Ω—Å, —Å–ø–æ—Å–æ–±—Å—Ç–≤—É—é—â–∏–π –≤–∑–∞–∏–º–æ–ø–æ–Ω–∏–º–∞–Ω–∏—é. `
      strengths.push('–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å')
      strengths.push('–ì–∞—Ä–º–æ–Ω–∏—á–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —ç–Ω–µ—Ä–≥–∏–π')
    } else if (scores.astrology >= 50) {
      analysis += `${result.yourSign} –∏ ${result.partnerSign} –∏–º–µ—é—Ç —É–º–µ—Ä–µ–Ω–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –ï—Å—Ç—å —Ç–æ—á–∫–∏ —Å–æ–ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è, –Ω–æ —Ç–∞–∫–∂–µ –∏ –æ–±–ª–∞—Å—Ç–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏. `
      strengths.push('–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –≤–∑–∞–∏–º–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞')
      challenges.push('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É—á–∏—Ç—ã–≤–∞—Ç—å –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–ª–∏—á–∏—è')
    } else {
      analysis += `–ó–Ω–∞–∫–∏ ${result.yourSign} –∏ ${result.partnerSign} –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –≤—ã–∑–æ–≤. –≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö —É—Å–∏–ª–∏–π –∏ –∂–µ–ª–∞–Ω–∏—è –ø–æ–Ω—è—Ç—å –ø—Ä–∏—Ä–æ–¥—É –ø–∞—Ä—Ç–Ω—ë—Ä–∞. `
      challenges.push('–†–∞–∑–ª–∏—á–∏—è –≤ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞—Ö')
      challenges.push('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤')
    }

    // –î–µ—Ç–∞–ª—å–Ω—ã–π –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
    if (numerologyResult) {
      analysis += `\n\nüî¢ –ù–£–ú–ï–†–û–õ–û–ì–ò–Ø (${numerologyResult.percentage}%):\n`
      analysis += `–í–∞—à–∏ —á–∏—Å–ª–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ø—É—Ç–∏: ${numerologyResult.yourLifePath} –∏ ${numerologyResult.partnerLifePath}. `
      if (numerologyResult.score >= 8) {
        analysis += `–≠—Ç–∏ —á–∏—Å–ª–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –≥–∞—Ä–º–æ–Ω–∏—á–Ω–æ–π –≤–∏–±—Ä–∞—Ü–∏–∏ (${numerologyResult.score}/10). –í–∞—à–∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏ –∏ –ø–æ–¥—Ö–æ–¥—ã –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –¥–æ–ø–æ–ª–Ω—è—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞, —Å–æ–∑–¥–∞–≤–∞—è —Å–∏–Ω–µ—Ä–≥–∏—é. `
        strengths.push('–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π')
        strengths.push('–ì–∞—Ä–º–æ–Ω–∏—á–Ω—ã–µ –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≤–∏–±—Ä–∞—Ü–∏–∏')
      } else if (numerologyResult.score >= 5) {
        analysis += `–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å ${numerologyResult.score}/10 —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –¥–∏–Ω–∞–º–∏–∫—É: –≤—ã –∏–¥—ë—Ç–µ —Å—Ö–æ–∂–∏–º–∏, –Ω–æ –Ω–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º–∏ –ø—É—Ç—è–º–∏. –≠—Ç–æ –¥–∞—ë—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –æ–±—â–µ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏. `
        strengths.push('–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –µ–¥–∏–Ω—Å—Ç–≤–æ–º –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç—å—é')
        recommendations.push('–£–≤–∞–∂–∞–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ç–µ–º–ø—ã –∏ –ø–æ–¥—Ö–æ–¥—ã –∫ –∂–∏–∑–Ω–∏')
      } else {
        analysis += `–û—Ü–µ–Ω–∫–∞ ${numerologyResult.score}/10 –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö –ø—É—Ç—è—Ö. –í—ã –º–æ–∂–µ—Ç–µ –º–Ω–æ–≥–æ–º—É –Ω–∞—É—á–∏—Ç—å—Å—è –¥—Ä—É–≥ —É –¥—Ä—É–≥–∞, –µ—Å–ª–∏ –±—É–¥–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã —Ä–∞–∑–ª–∏—á–∏—è–º. `
        challenges.push('–†–∞–∑–Ω—ã–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ –ø—É—Ç–∏')
        recommendations.push('–ò—â–∏—Ç–µ —Ç–æ—á–∫–∏ —Å–æ–ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è –≤ —Ü–µ–Ω–Ω–æ—Å—Ç—è—Ö')
        recommendations.push('–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —ç–º–ø–∞—Ç–∏—é –∫ –ø—É—Ç–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞')
      }
    }

    // –ê–Ω–∞–ª–∏–∑ –¢–∞—Ä–æ
    if (result.yourCard && result.partnerCard) {
      analysis += `\n\nüé¥ –¢–ê–†–û:\n`
      analysis += `–ö–∞—Ä—Ç—ã —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç –≥–ª—É–±–∏–Ω–Ω—ã–µ —ç–Ω–µ—Ä–≥–∏–∏: ${result.yourCard.name} (–≤–∞—à–∞) –∏ ${result.partnerCard.name} (–ø–∞—Ä—Ç–Ω—ë—Ä–∞). `
      if (result.yourCard.energy === result.partnerCard.energy) {
        if (result.yourCard.energy === 'positive') {
          analysis += `–û–±–µ –∫–∞—Ä—Ç—ã –Ω–µ—Å—É—Ç –ø–æ–∑–∏—Ç–∏–≤–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é, —Å–æ–∑–¥–∞–≤–∞—è —Å–≤–µ—Ç–ª—É—é, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –≤ –ø–∞—Ä–µ. `
          strengths.push('–í–∑–∞–∏–º–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ—Å—Ç—å')
        } else {
          analysis += `–û–±–µ –∫–∞—Ä—Ç—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–±—â–∏–µ –≤—ã–∑–æ–≤—ã —Ä–æ—Å—Ç–∞, —á—Ç–æ –º–æ–∂–µ—Ç —Å–±–ª–∏–∑–∏—Ç—å —á–µ—Ä–µ–∑ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ. `
          recommendations.push('–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è—Ö')
        }
      } else {
        analysis += `–†–∞–∑–Ω—ã–µ —ç–Ω–µ—Ä–≥–∏–∏ –∫–∞—Ä—Ç (–ø–æ–∑–∏—Ç–∏–≤ –∏ –≤—ã–∑–æ–≤) —Å–æ–∑–¥–∞—é—Ç –±–∞–ª–∞–Ω—Å: –æ–¥–∏–Ω –ø–∞—Ä—Ç–Ω—ë—Ä –ø—Ä–∏–≤–Ω–æ—Å–∏—Ç —Å–≤–µ—Ç, –¥—Ä—É–≥–æ–π ‚Äî –≥–ª—É–±–∏–Ω—É. `
        strengths.push('–í–∑–∞–∏–º–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∏ –±–∞–ª–∞–Ω—Å')
      }
    }

    // –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Å–æ–≤–µ—Ç–∞–º–∏
    analysis += `\n\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`
    if (overallLevel === 'excellent') {
      analysis += `üí´ –û–ë–©–ò–ô –ò–¢–û–ì:\n–£ –≤–∞—Å –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π! –í—Å–µ –º–µ—Ç–æ–¥—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –≤—ã—Å–æ–∫—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –≠—Ç–æ —Ä–µ–¥–∫–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Å—Ç–æ–∏—Ç —Ü–µ–Ω–∏—Ç—å.`
      recommendations.push('–ù–µ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –≥–∞—Ä–º–æ–Ω–∏—é –∫–∞–∫ –¥–æ–ª–∂–Ω–æ–µ ‚Äî —Ä–∞–∑–≤–∏–≤–∞–π—Ç–µ –µ—ë')
      recommendations.push('–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—Ä–µ–ø–∫—É—é —Å–≤—è–∑—å –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤')
      recommendations.push('–î–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–µ–π –ª—é–±–æ–≤—å—é —Å –º–∏—Ä–æ–º')
    } else if (overallLevel === 'good') {
      analysis += `üíù –û–ë–©–ò–ô –ò–¢–û–ì:\n–í–∞—à–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∏–º–µ—é—Ç –∫—Ä–µ–ø–∫—É—é –æ—Å–Ω–æ–≤—É —Å —Ö–æ—Ä–æ—à–∏–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º —Ä–æ—Å—Ç–∞. –ü—Ä–∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–º –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ—Å—Ç–∏—á—å –≥–ª—É–±–æ–∫–æ–π –≥–∞—Ä–º–æ–Ω–∏–∏.`
      recommendations.push('–†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞–¥ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–µ–π ‚Äî —ç—Ç–æ –≤–∞—à –∫–ª—é—á –∫ —É—Å–ø–µ—Ö—É')
      recommendations.push('–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±—Å—É–∂–¥–∞–π—Ç–µ –æ–∂–∏–¥–∞–Ω–∏—è –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏')
      recommendations.push('–ü—Ä–∞–∑–¥–Ω—É–π—Ç–µ –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ–±–µ–¥—ã –≤–º–µ—Å—Ç–µ')
    } else if (overallLevel === 'medium') {
      analysis += `üíõ –û–ë–©–ò–ô –ò–¢–û–ì:\n–û—Ç–Ω–æ—à–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±—É—é—Ç —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö —É—Å–∏–ª–∏–π –æ—Ç –æ–±–æ–∏—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤. –ï—Å—Ç—å –∫–∞–∫ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, —Ç–∞–∫ –∏ –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã. –§–æ–∫—É—Å –Ω–∞ –ø–æ–∑–∏—Ç–∏–≤–µ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Ä–∞—Å—Ç–∏ –≤–º–µ—Å—Ç–µ ‚Äî –∑–∞–ª–æ–≥ —É—Å–ø–µ—Ö–∞.`
      recommendations.push('–ü—Ä–∏–º–∏—Ç–µ —Ä–∞–∑–ª–∏—á–∏—è –∫–∞–∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —Ä–æ—Å—Ç–∞')
      recommendations.push('–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á—ë—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –∏ –æ–∂–∏–¥–∞–Ω–∏—è')
      recommendations.push('–ù–∞—Ö–æ–¥–∏—Ç–µ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã, –∞ –Ω–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π')
      recommendations.push('–û–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏')
    } else {
      analysis += `‚ù§Ô∏è –û–ë–©–ò–ô –ò–¢–û–ì:\n–≠—Ç–æ –Ω–µ–ø—Ä–æ—Å—Ç–æ–π —Å–æ—é–∑, —Ç—Ä–µ–±—É—é—â–∏–π –≥–ª—É–±–æ–∫–æ–π —Ä–∞–±–æ—Ç—ã –∏ –≤–∑–∞–∏–º–Ω–æ–≥–æ –∂–µ–ª–∞–Ω–∏—è –±—ã—Ç—å –≤–º–µ—Å—Ç–µ. –ù–æ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–∞–∏–±–æ–ª—å—à–µ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–±–æ–∏—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤.`
      recommendations.push('–ß–µ—Å—Ç–Ω–æ –æ—Ü–µ–Ω–∏—Ç–µ: –≥–æ—Ç–æ–≤—ã –ª–∏ –æ–±–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏?')
      recommendations.push('–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –æ–±—â–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∫–∞–∫ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç')
      recommendations.push('–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–º–æ—â—å –ø–∞—Ä-—Ç–µ—Ä–∞–ø–µ–≤—Ç–∞')
      recommendations.push('–§–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –º–∞–ª—ã—Ö —É–ª—É—á—à–µ–Ω–∏—è—Ö, –∞ –Ω–µ —Ä–µ–≤–æ–ª—é—Ü–∏–∏')
    }

    return {
      averageScore: Math.round(averageScore),
      level: overallLevel,
      analysis,
      scores,
      strengths,
      challenges,
      recommendations
    }
  }

  return (
    <div className="compatibility-page-new">
      <div className="compatibility-hero">
        <button onClick={() => navigate('/dashboard')} className="btn-back-comp">
          ‚Üê –ù–∞–∑–∞–¥
        </button>
        <h1>üíï –ê–Ω–∞–ª–∏–∑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏</h1>
        <p className="hero-subtitle">–¢–∞—Ä–æ + –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è + –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è</p>
      </div>

      <div className="compatibility-content">
        {!result ? (
          <div className="input-section">
            <div className="input-card">
              <div className="hearts-animation">üíï</div>
              <h2>–£–∑–Ω–∞–π—Ç–µ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</h2>
              <p>–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π</p>

              {/* Mode Selector */}
              <div className="mode-selector">
                <button
                  className={`mode-btn ${mode === 'simple' ? 'active' : ''}`}
                  onClick={() => setMode('simple')}
                >
                  ‚ö° –ë—ã—Å—Ç—Ä—ã–π (—Ç–æ–ª—å–∫–æ –°–æ–ª–Ω—Ü–µ)
                </button>
                <button
                  className={`mode-btn ${mode === 'advanced' ? 'active' : ''}`}
                  onClick={() => setMode('advanced')}
                >
                  üîÆ –î–µ—Ç–∞–ª—å–Ω—ã–π (5 –ø–ª–∞–Ω–µ—Ç)
                </button>
              </div>

              <div className="inputs-grid">
                <div className="input-group">
                  <h4>üë§ –í—ã</h4>
                  <input
                    type="text"
                    placeholder="–í–∞—à–µ –∏–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
                    value={yourName}
                    onChange={(e) => setYourName(e.target.value)}
                    className="name-input"
                  />

                  {mode === 'advanced' && (
                    <div className="advanced-fields">
                      <div className="birth-data-section">
                        <h5>üéÇ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø–ª–∞–Ω–µ—Ç:</h5>
                        <input
                          type="date"
                          value={yourBirthDate}
                          onChange={(e) => setYourBirthDate(e.target.value)}
                          className="birth-input"
                        />
                        <input
                          type="time"
                          value={yourBirthTime}
                          onChange={(e) => setYourBirthTime(e.target.value)}
                          className="birth-input"
                        />
                        <input
                          type="text"
                          value={yourBirthPlace}
                          onChange={(e) => setYourBirthPlace(e.target.value)}
                          placeholder="–ì–æ—Ä–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è)"
                          className="birth-input"
                        />
                        <button
                          onClick={() => calculateNatalChart(yourBirthDate, yourBirthTime, yourBirthPlace, 'person1')}
                          className="btn-calc-chart"
                          disabled={!yourBirthDate || !yourBirthTime || calculating.person1}
                        >
                          {calculating.person1 ? '‚è≥ –†–∞—Å—á—ë—Ç...' : '‚ú® –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤—Å–µ –ø–ª–∞–Ω–µ—Ç—ã'}
                        </button>
                      </div>

                      <h5 style={{ marginTop: '1rem', color: '#999', fontSize: '0.85rem' }}>–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –ø–ª–∞–Ω–µ—Ç—ã –≤—Ä—É—á–Ω—É—é:</h5>
                    </div>
                  )}

                  <select
                    value={yourSign}
                    onChange={(e) => setYourSign(e.target.value)}
                    className="sign-select"
                  >
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∑–Ω–∞–∫ –°–æ–ª–Ω—Ü–∞</option>
                    {ZODIAC_SIGNS.map(sign => (
                      <option key={sign} value={sign}>{sign}</option>
                    ))}
                  </select>

                  {mode === 'advanced' && (
                    <div className="advanced-fields">
                      <select value={yourMoon} onChange={(e) => setYourMoon(e.target.value)} className="planet-select">
                        <option value="">üåô –õ—É–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</option>
                        {ZODIAC_SIGNS.map(sign => (<option key={sign} value={sign}>{sign}</option>))}
                      </select>
                      <select value={yourVenus} onChange={(e) => setYourVenus(e.target.value)} className="planet-select">
                        <option value="">‚ôÄ –í–µ–Ω–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</option>
                        {ZODIAC_SIGNS.map(sign => (<option key={sign} value={sign}>{sign}</option>))}
                      </select>
                      <select value={yourMars} onChange={(e) => setYourMars(e.target.value)} className="planet-select">
                        <option value="">‚ôÇ –ú–∞—Ä—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</option>
                        {ZODIAC_SIGNS.map(sign => (<option key={sign} value={sign}>{sign}</option>))}
                      </select>
                      <select value={yourRising} onChange={(e) => setYourRising(e.target.value)} className="planet-select">
                        <option value="">‚¨ÜÔ∏è –í–æ—Å—Ö–æ–¥—è—â–∏–π (–æ–ø—Ü.)</option>
                        {ZODIAC_SIGNS.map(sign => (<option key={sign} value={sign}>{sign}</option>))}
                      </select>
                    </div>
                  )}
                </div>

                <div className="divider-hearts">üíñ</div>

                <div className="input-group">
                  <h4>üíë –ü–∞—Ä—Ç–Ω—ë—Ä</h4>
                  <input
                    type="text"
                    placeholder="–ò–º—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
                    value={partnerName}
                    onChange={(e) => setPartnerName(e.target.value)}
                    className="name-input"
                  />

                  {mode === 'advanced' && (
                    <div className="advanced-fields">
                      <div className="birth-data-section">
                        <h5>üéÇ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø–ª–∞–Ω–µ—Ç:</h5>
                        <input
                          type="date"
                          value={partnerBirthDate}
                          onChange={(e) => setPartnerBirthDate(e.target.value)}
                          className="birth-input"
                        />
                        <input
                          type="time"
                          value={partnerBirthTime}
                          onChange={(e) => setPartnerBirthTime(e.target.value)}
                          className="birth-input"
                        />
                        <input
                          type="text"
                          value={partnerBirthPlace}
                          onChange={(e) => setPartnerBirthPlace(e.target.value)}
                          placeholder="–ì–æ—Ä–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è)"
                          className="birth-input"
                        />
                        <button
                          onClick={() => calculateNatalChart(partnerBirthDate, partnerBirthTime, partnerBirthPlace, 'person2')}
                          className="btn-calc-chart"
                          disabled={!partnerBirthDate || !partnerBirthTime || calculating.person2}
                        >
                          {calculating.person2 ? '‚è≥ –†–∞—Å—á—ë—Ç...' : '‚ú® –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤—Å–µ –ø–ª–∞–Ω–µ—Ç—ã'}
                        </button>
                      </div>

                      <h5 style={{ marginTop: '1rem', color: '#999', fontSize: '0.85rem' }}>–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –ø–ª–∞–Ω–µ—Ç—ã –≤—Ä—É—á–Ω—É—é:</h5>
                    </div>
                  )}

                  <select
                    value={partnerSign}
                    onChange={(e) => setPartnerSign(e.target.value)}
                    className="sign-select"
                  >
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∑–Ω–∞–∫ –°–æ–ª–Ω—Ü–∞</option>
                    {ZODIAC_SIGNS.map(sign => (
                      <option key={sign} value={sign}>{sign}</option>
                    ))}
                  </select>

                  {mode === 'advanced' && (
                    <div className="advanced-fields">
                      <select value={partnerMoon} onChange={(e) => setPartnerMoon(e.target.value)} className="planet-select">
                        <option value="">üåô –õ—É–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</option>
                        {ZODIAC_SIGNS.map(sign => (<option key={sign} value={sign}>{sign}</option>))}
                      </select>
                      <select value={partnerVenus} onChange={(e) => setPartnerVenus(e.target.value)} className="planet-select">
                        <option value="">‚ôÄ –í–µ–Ω–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</option>
                        {ZODIAC_SIGNS.map(sign => (<option key={sign} value={sign}>{sign}</option>))}
                      </select>
                      <select value={partnerMars} onChange={(e) => setPartnerMars(e.target.value)} className="planet-select">
                        <option value="">‚ôÇ –ú–∞—Ä—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</option>
                        {ZODIAC_SIGNS.map(sign => (<option key={sign} value={sign}>{sign}</option>))}
                      </select>
                      <select value={partnerRising} onChange={(e) => setPartnerRising(e.target.value)} className="planet-select">
                        <option value="">‚¨ÜÔ∏è –í–æ—Å—Ö–æ–¥—è—â–∏–π (–æ–ø—Ü.)</option>
                        {ZODIAC_SIGNS.map(sign => (<option key={sign} value={sign}>{sign}</option>))}
                      </select>
                    </div>
                  )}
                </div>
              </div>

              <button
                onClick={calculateCompatibility}
                className="btn-calculate"
                disabled={!yourSign || !partnerSign}
              >
                ‚ú® –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
              </button>
            </div>
          </div>
        ) : (
          <div className="result-section">
            <div className="result-header">
              <h3>{result.yourName} üíñ {result.partnerName}</h3>
              <p>{result.yourName || '–í—ã'} ({result.yourSign}) √ó {result.partnerName || '–ü–∞—Ä—Ç–Ω—ë—Ä'} ({result.partnerSign})</p>
            </div>

            {/* Integrated Analysis - –ü–ï–†–í–´–ú */}
            {(() => {
              const integrated = getIntegratedAnalysis()
              if (!integrated) return null

              return (
                <div className="integrated-analysis">
                  <h3 className="integrated-title">üéØ –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ò—Ç–æ–≥</h3>
                  <p className="integrated-subtitle">–ï–¥–∏–Ω–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤</p>

                  <div className="integrated-overall" style={{
                    background: `linear-gradient(135deg, ${getLevelData(integrated.level).color}15 0%, ${getLevelData(integrated.level).color}30 100%)`,
                    borderLeft: `4px solid ${getLevelData(integrated.level).color}`
                  }}>
                    <div className="integrated-score-big">
                      <span className="integrated-emoji">{getLevelData(integrated.level).emoji}</span>
                      <span className="integrated-percentage">{integrated.averageScore}%</span>
                      <span className="integrated-label">–û–±—â–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</span>
                    </div>
                  </div>

                  <div className="integrated-scores">
                    <div className="method-score">
                      <span className="method-icon">üåü</span>
                      <span className="method-name">–ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è</span>
                      <span className="method-value">{integrated.scores.astrology}%</span>
                    </div>
                    {integrated.scores.numerology && (
                      <div className="method-score">
                        <span className="method-icon">üî¢</span>
                        <span className="method-name">–ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è</span>
                        <span className="method-value">{integrated.scores.numerology}%</span>
                      </div>
                    )}
                    {integrated.scores.tarot && (
                      <div className="method-score">
                        <span className="method-icon">üé¥</span>
                        <span className="method-name">–¢–∞—Ä–æ</span>
                        <span className="method-value">{integrated.scores.tarot}%</span>
                      </div>
                    )}
                  </div>

                  <div className="integrated-text">
                    <p style={{ whiteSpace: 'pre-line' }}>{integrated.analysis}</p>
                  </div>

                  {/* –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, –≤—ã–∑–æ–≤—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ */}
                  <div className="integrated-details">
                    {integrated.strengths.length > 0 && (
                      <div className="detail-card strength-card">
                        <h4>üí™ –°–∏–ª—å–Ω—ã–µ –°—Ç–æ—Ä–æ–Ω—ã</h4>
                        <ul>
                          {integrated.strengths.map((strength, i) => (
                            <li key={i}>{strength}</li>
                          ))}
                        </ul>
                      </div>
                    )}

                    {integrated.challenges.length > 0 && (
                      <div className="detail-card challenge-card">
                        <h4>‚ö†Ô∏è –û–±–ª–∞—Å—Ç–∏ –¥–ª—è –†–∞–±–æ—Ç—ã</h4>
                        <ul>
                          {integrated.challenges.map((challenge, i) => (
                            <li key={i}>{challenge}</li>
                          ))}
                        </ul>
                      </div>
                    )}

                    {integrated.recommendations.length > 0 && (
                      <div className="detail-card recommendation-card">
                        <h4>üí° –ö–ª—é—á–µ–≤—ã–µ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h4>
                        <ul>
                          {integrated.recommendations.map((rec, i) => (
                            <li key={i}>{rec}</li>
                          ))}
                        </ul>
                      </div>
                    )}
                  </div>
                </div>
              )
            })()}

            {/* Divider */}
            <div className="section-divider">
              <span>–î–µ—Ç–∞–ª—å–Ω—ã–π –ê–Ω–∞–ª–∏–∑ –ø–æ –ú–µ—Ç–æ–¥–∞–º</span>
            </div>

            {/* Astrology Section - —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º */}
            <div className="method-detail-section">
              <h3 className="method-section-title">üåü –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</h3>
              <p className="method-section-subtitle">–ê–Ω–∞–ª–∏–∑ –ø–æ –∑–Ω–∞–∫–∞–º –∑–æ–¥–∏–∞–∫–∞ –∏ –ø–ª–∞–Ω–µ—Ç–∞–º</p>

              <div className="percentage-display" style={{ borderColor: getLevelData(result.level).color }}>
                <svg width="200" height="200">
                  <circle cx="100" cy="100" r="90" fill="none" stroke="#f0f0f0" strokeWidth="12"/>
                  <circle
                    cx="100"
                    cy="100"
                    r="90"
                    fill="none"
                    stroke={getLevelData(result.level).color}
                    strokeWidth="12"
                    strokeDasharray={`${2 * Math.PI * 90}`}
                    strokeDashoffset={`${2 * Math.PI * 90 * (1 - result.percentage / 100)}`}
                    transform="rotate(-90 100 100)"
                    strokeLinecap="round"
                    style={{ transition: 'stroke-dashoffset 2s ease' }}
                  />
                </svg>
                <div className="percentage-text">
                  <span className="percentage-number" style={{ color: getLevelData(result.level).color }}>
                    {result.percentage}%
                  </span>
                  <span className="percentage-label">–ü–æ –ê—Å—Ç—Ä–æ–ª–æ–≥–∏–∏</span>
                </div>
              </div>

              <div className="level-badge" style={{ background: getLevelData(result.level).color }}>
                <span className="level-emoji">{getLevelData(result.level).emoji}</span>
                <span>{getLevelData(result.level).title}</span>
              </div>

              <p className="level-description">{getLevelData(result.level).description}</p>

              {/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ */}
              <div className="astro-details">
                <div className="astro-detail-card">
                  <h4>üåô –ó–Ω–∞—á–µ–Ω–∏–µ –ó–Ω–∞–∫–æ–≤</h4>
                  <div className="sign-meanings">
                    <p><strong>{result.yourSign}:</strong> {getZodiacTraits(result.yourSign)}</p>
                    <p><strong>{result.partnerSign}:</strong> {getZodiacTraits(result.partnerSign)}</p>
                  </div>
                </div>
                <div className="astro-detail-card">
                  <h4>üí´ –î–∏–Ω–∞–º–∏–∫–∞ –ü–∞—Ä—ã</h4>
                  <p>{getZodiacDynamics(result.yourSign, result.partnerSign, result.percentage)}</p>
                </div>
              </div>

              {/* Planetary Breakdown - —Ç–æ–ª—å–∫–æ –¥–ª—è advanced —Ä–µ–∂–∏–º–∞ */}
              {result.mode === 'advanced' && result.details && (
                <div className="planetary-breakdown">
                  <h3>üåü –î–µ—Ç–∞–ª—å–Ω—ã–π –ê–Ω–∞–ª–∏–∑ –ø–æ –ü–ª–∞–Ω–µ—Ç–∞–º</h3>
                  <p className="breakdown-subtitle">–ö–∞–∂–¥–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –æ—Ç–Ω–æ—à–µ–Ω–∏–π</p>

                  <div className="planets-explanation">
                    <p>
                      –í —Å–∏–Ω–∞—Å—Ç—Ä–∏–∏ (–∞—Å—Ç—Ä–æ–ª–æ–≥–∏–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π) –∫–∞–∂–¥–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é —Å—Ñ–µ—Ä—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.
                      –ß–µ–º –≤—ã—à–µ –±–∞–ª–ª –ø–æ –ø–ª–∞–Ω–µ—Ç–µ, —Ç–µ–º –≥–∞—Ä–º–æ–Ω–∏—á–Ω–µ–µ —ç—Ç–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤ –ø–∞—Ä–µ.
                    </p>
                  </div>

                  <div className="planets-grid">
                    {result.details.sun && (
                      <div className="planet-score-card">
                        <div className="planet-icon">‚òÄÔ∏è</div>
                        <div className="planet-info">
                          <h5>–°–æ–ª–Ω—Ü–µ - –°—É—â–Ω–æ—Å—Ç—å –∏ –õ–∏—á–Ω–æ—Å—Ç—å</h5>
                          <div className="score-bar">
                            <div className="score-fill" style={{ width: `${(result.details.sun.score / result.details.sun.max) * 100}%`, background: '#ff9800' }}></div>
                          </div>
                          <p className="score-text">{result.details.sun.score} –∏–∑ {result.details.sun.max} –±–∞–ª–ª–æ–≤</p>
                          <p className="planet-description">
                            –°–æ–ª–Ω—Ü–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–∞—à–∏—Ö –ª–∏—á–Ω–æ—Å—Ç–µ–π, –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ –±–∞–∑–æ–≤—ã—Ö —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π.
                            –≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏–π - –Ω–∞—Å–∫–æ–ª—å–∫–æ –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –Ω–∞ –≥–ª—É–±–∏–Ω–Ω–æ–º —É—Ä–æ–≤–Ω–µ.
                          </p>
                        </div>
                      </div>
                    )}

                    {result.details.moon && (
                      <div className="planet-score-card">
                        <div className="planet-icon">üåô</div>
                        <div className="planet-info">
                          <h5>–õ—É–Ω–∞ - –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</h5>
                          <div className="score-bar">
                            <div className="score-fill" style={{ width: `${(result.details.moon.score / result.details.moon.max) * 100}%`, background: '#9c27b0' }}></div>
                          </div>
                          <p className="score-text">{result.details.moon.score} –∏–∑ {result.details.moon.max} –±–∞–ª–ª–æ–≤</p>
                          <p className="planet-description">
                            –õ—É–Ω–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–≤—è–∑—å, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞, —ç–º–ø–∞—Ç–∏—é.
                            –í—ã—Å–æ–∫–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –õ—É–Ω –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω–∏–º–∞–µ—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞,
                            –ª–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç–µ –≤ —Ç—Ä—É–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤–º–µ—Å—Ç–µ.
                          </p>
                        </div>
                      </div>
                    )}

                    {result.details.venus && (
                      <div className="planet-score-card">
                        <div className="planet-icon">‚ôÄ</div>
                        <div className="planet-info">
                          <h5>–í–µ–Ω–µ—Ä–∞ - –õ—é–±–æ–≤—å –∏ –ü—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å</h5>
                          <div className="score-bar">
                            <div className="score-fill" style={{ width: `${(result.details.venus.score / result.details.venus.max) * 100}%`, background: '#e91e63' }}></div>
                          </div>
                          <p className="score-text">{result.details.venus.score} –∏–∑ {result.details.venus.max} –±–∞–ª–ª–æ–≤</p>
                          <p className="planet-description">
                            –í–µ–Ω–µ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: –∫–∞–∫ –≤—ã –≤—ã—Ä–∞–∂–∞–µ—Ç–µ –ª—é–±–æ–≤—å, —á—Ç–æ —Ü–µ–Ω–∏—Ç–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö,
                            –≤–∞—à–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ –∫—Ä–∞—Å–æ—Ç–µ –∏ –≥–∞—Ä–º–æ–Ω–∏–∏. –í—ã—Å–æ–∫–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –í–µ–Ω–µ—Ä = –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Ö–∏–º–∏—è,
                            —Å—Ö–æ–∂–∏–µ –ª—é–±–æ–≤–Ω—ã–µ —è–∑—ã–∫–∏ –∏ –ª—ë–≥–∫–æ—Å—Ç—å –≤ –ø—Ä–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–µ–∂–Ω–æ—Å—Ç–∏.
                          </p>
                        </div>
                      </div>
                    )}

                    {result.details.mars && (
                      <div className="planet-score-card">
                        <div className="planet-icon">‚ôÇ</div>
                        <div className="planet-info">
                          <h5>–ú–∞—Ä—Å - –°—Ç—Ä–∞—Å—Ç—å –∏ –≠–Ω–µ—Ä–≥–∏—è</h5>
                          <div className="score-bar">
                            <div className="score-fill" style={{ width: `${(result.details.mars.score / result.details.mars.max) * 100}%`, background: '#f44336' }}></div>
                          </div>
                          <p className="score-text">{result.details.mars.score} –∏–∑ {result.details.mars.max} –±–∞–ª–ª–æ–≤</p>
                          <p className="planet-description">
                            –ú–∞—Ä—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é —Å—Ç—Ä–∞—Å—Ç—å, —Å–µ–∫—Å—É–∞–ª—å–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, —ç–Ω–µ—Ä–≥–∏—é –¥–µ–π—Å—Ç–≤–∏–π –∏ —Å–ø–æ—Å–æ–± —Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.
                            –ì–∞—Ä–º–æ–Ω–∏—á–Ω—ã–µ –ú–∞—Ä—Å—ã = —Å—Ö–æ–∂–∏–π —Ç–µ–º–ø –∂–∏–∑–Ω–∏, —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —Å–µ–∫—Å—É–∞–ª—å–Ω–æ—Å—Ç—å, —É–º–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑—Ä–µ—à–∞—Ç—å —Å–ø–æ—Ä—ã
                            –∏ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –æ–±—â—É—é —ç–Ω–µ—Ä–≥–∏—é –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π.
                          </p>
                        </div>
                      </div>
                    )}

                    {result.details.rising && (
                      <div className="planet-score-card">
                        <div className="planet-icon">‚¨ÜÔ∏è</div>
                        <div className="planet-info">
                          <h5>–í–æ—Å—Ö–æ–¥—è—â–∏–π - –ü–µ—Ä–≤–æ–µ –í–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ</h5>
                          <div className="score-bar">
                            <div className="score-fill" style={{ width: `${(result.details.rising.score / result.details.rising.max) * 100}%`, background: '#2196f3' }}></div>
                          </div>
                          <p className="score-text">{result.details.rising.score} –∏–∑ {result.details.rising.max} –±–∞–ª–ª–æ–≤</p>
                          <p className="planet-description">
                            –í–æ—Å—Ö–æ–¥—è—â–∏–π –∑–Ω–∞–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –≤—ã –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤–Ω–µ—à–Ω–µ, –ø–µ—Ä–≤–æ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ,
                            —Å–æ—Ü–∏–∞–ª—å–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π, –æ–±—â–µ–Ω–∏—è —Å –¥—Ä—É–∑—å—è–º–∏ –∏ —Å–µ–º—å—ë–π,
                            —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—ã –≤ –≥–ª–∞–∑–∞—Ö –æ–∫—Ä—É–∂–∞—é—â–∏—Ö.
                          </p>
                        </div>
                      </div>
                    )}
                  </div>
                </div>
              )}

              <div className="analysis-sections">
                {(() => {
                  const analysis = getDetailedAnalysis(result.yourSign, result.partnerSign, result.details || {})
                  return (
                    <>
                      <div className="analysis-card strengths">
                        <h4>‚ú® –°–∏–ª—å–Ω—ã–µ –°—Ç–æ—Ä–æ–Ω—ã</h4>
                        <ul>
                          {analysis.strengths.map((item, idx) => (
                            <li key={idx}>{item}</li>
                          ))}
                        </ul>
                      </div>

                      <div className="analysis-card challenges">
                        <h4>‚ö° –û–±–ª–∞—Å—Ç–∏ –†–æ—Å—Ç–∞</h4>
                        <ul>
                          {analysis.challenges.map((item, idx) => (
                            <li key={idx}>{item}</li>
                          ))}
                        </ul>
                      </div>

                      <div className="analysis-card advice">
                        <h4>üí° –°–æ–≤–µ—Ç—ã</h4>
                        <ul>
                          {analysis.advice.map((item, idx) => (
                            <li key={idx}>{item}</li>
                          ))}
                        </ul>
                      </div>
                    </>
                  )
                })()}
              </div>
            </div>

            {/* Numerology Section */}
            {numerologyResult && (
              <div className="numerology-section">
                <h3 style={{
                  textAlign: 'center',
                  fontSize: '1.8rem',
                  marginBottom: '1.5rem',
                  fontWeight: '700',
                  color: '#ffffff',
                  textShadow: 'none',
                  opacity: 1,
                  background: 'none'
                }}>üî¢ –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</h3>
                <p className="method-section-subtitle" style={{ textAlign: 'center', marginBottom: '1.5rem', color: 'white' }}>
                  –ê–Ω–∞–ª–∏–∑ –ø–æ —á–∏—Å–ª–∞–º –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ø—É—Ç–∏
                </p>
                <div className="numerology-content">
                  <div className="numerology-numbers">
                    <div className="num-person">
                      <span className="num-label">–í—ã</span>
                      <span className="num-value">{numerologyResult.yourLifePath}</span>
                    </div>
                    <span className="num-heart">üíï</span>
                    <div className="num-person">
                      <span className="num-label">–ü–∞—Ä—Ç–Ω—ë—Ä</span>
                      <span className="num-value">{numerologyResult.partnerLifePath}</span>
                    </div>
                  </div>
                  <div className="numerology-score">
                    <div className="num-score-bar">
                      <div className="num-score-fill" style={{ width: `${numerologyResult.percentage}%` }}></div>
                    </div>
                    <p className="num-score-text">{numerologyResult.score}/10 - {numerologyResult.level}</p>
                    <p className="num-description">{numerologyResult.description}</p>
                  </div>
                </div>

                {/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏ */}
                <div className="num-details">
                  <div className="num-detail-card">
                    <h4>üîÆ –ó–Ω–∞—á–µ–Ω–∏–µ –ß–∏—Å–µ–ª</h4>
                    <p><strong>–ß–∏—Å–ª–æ {numerologyResult.yourLifePath}:</strong> {getLifePathMeaning(numerologyResult.yourLifePath)}</p>
                    <p style={{marginTop: '1rem'}}><strong>–ß–∏—Å–ª–æ {numerologyResult.partnerLifePath}:</strong> {getLifePathMeaning(numerologyResult.partnerLifePath)}</p>
                  </div>
                  <div className="num-detail-card">
                    <h4>‚ú® –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ</h4>
                    <p>{getNumerologyInteraction(numerologyResult.yourLifePath, numerologyResult.partnerLifePath, numerologyResult.score)}</p>
                  </div>
                </div>

                {/* –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ */}
                <div className="num-extended-analysis">
                  <h3 style={{ textAlign: 'center', marginBottom: '2rem', color: 'white' }}>
                    üìä –î–µ—Ç–∞–ª—å–Ω—ã–π –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ê–Ω–∞–ª–∏–∑
                  </h3>

                  {/* –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ –≤—ã–∑–æ–≤—ã */}
                  <div className="num-analysis-grid">
                    {numerologyResult.score >= 7 ? (
                      <>
                        <div className="num-analysis-card strength">
                          <h4>üí™ –°–∏–ª—å–Ω—ã–µ –°—Ç–æ—Ä–æ–Ω—ã –ü–∞—Ä—ã</h4>
                          <ul>
                            <li>–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ü–µ–ª–µ–π –¥—Ä—É–≥ –¥—Ä—É–≥–∞</li>
                            <li>–°—Ö–æ–∂–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã</li>
                            <li>–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞—Å—Ç–∏ –≤–º–µ—Å—Ç–µ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç–∏</li>
                            <li>–í–∑–∞–∏–º–Ω–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ</li>
                            <li>–ì–∞—Ä–º–æ–Ω–∏—á–Ω–∞—è —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</li>
                          </ul>
                        </div>
                        <div className="num-analysis-card advice">
                          <h4>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h4>
                          <ul>
                            <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–Ω–µ—Ä–≥–∏—é –≤–∞—à–∏—Ö —á–∏—Å–µ–ª –¥–ª—è –æ–±—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</li>
                            <li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –ª–∏—á–Ω—ã–µ —Ü–µ–ª–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ - —ç—Ç–æ —É–∫—Ä–µ–ø–∏—Ç —Å–æ—é–∑</li>
                            <li>–ù–µ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –≥–∞—Ä–º–æ–Ω–∏—é –∫–∞–∫ –¥–æ–ª–∂–Ω–æ–µ - —Ä–∞–∑–≤–∏–≤–∞–π—Ç–µ –µ—ë</li>
                            <li>–î–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –º–µ—á—Ç–∞–º–∏ –∏ –∞–º–±–∏—Ü–∏—è–º–∏ –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º</li>
                          </ul>
                        </div>
                      </>
                    ) : numerologyResult.score >= 5 ? (
                      <>
                        <div className="num-analysis-card strength">
                          <h4>üí™ –°–∏–ª—å–Ω—ã–µ –°—Ç–æ—Ä–æ–Ω—ã –ü–∞—Ä—ã</h4>
                          <ul>
                            <li>–†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –¥–∞—é—Ç —à–∏—Ä–æ–∫—É—é –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É</li>
                            <li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—á–∏—Ç—å—Å—è –¥—Ä—É–≥ —É –¥—Ä—É–≥–∞</li>
                            <li>–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å—Ö–æ–∂–µ—Å—Ç—å—é –∏ —Ä–∞–∑–ª–∏—á–∏–µ–º</li>
                            <li>–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –≤–∑–∞–∏–º–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–∏—è</li>
                          </ul>
                        </div>
                        <div className="num-analysis-card challenge">
                          <h4>‚ö†Ô∏è –û–±–ª–∞—Å—Ç–∏ –¥–ª—è –†–∞–±–æ—Ç—ã</h4>
                          <ul>
                            <li>–†–∞–∑–Ω—ã–µ —Ç–µ–º–ø—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π</li>
                            <li>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏</li>
                            <li>–†–∞–∑–ª–∏—á–∏—è –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ —É—Å–ø–µ—Ö–∞</li>
                            <li>–í–∞–∂–Ω–æ—Å—Ç—å —É–≤–∞–∂–µ–Ω–∏—è –∫ –ø—É—Ç–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞</li>
                          </ul>
                        </div>
                        <div className="num-analysis-card advice">
                          <h4>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h4>
                          <ul>
                            <li>–ù–∞–π–¥–∏—Ç–µ –æ–±—â–∏–µ —Ü–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç –≤–∞—à–∏ —á–∏—Å–ª–∞</li>
                            <li>–ü—Ä–∞–∑–¥–Ω—É–π—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –≤–∞—à–∏—Ö</li>
                            <li>–û–±—Å—É–∂–¥–∞–π—Ç–µ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–ª–∞–Ω—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ</li>
                            <li>–ò—â–∏—Ç–µ —Ç–æ—á–∫–∏ —Å–æ–ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è –≤ —Ü–µ–Ω–Ω–æ—Å—Ç—è—Ö</li>
                          </ul>
                        </div>
                      </>
                    ) : (
                      <>
                        <div className="num-analysis-card challenge">
                          <h4>‚ö†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –í—ã–∑–æ–≤—ã</h4>
                          <ul>
                            <li>–°—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞—Ö</li>
                            <li>–†–∞–∑–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ —Å—á–∞—Å—Ç—å–µ –∏ —É—Å–ø–µ—Ö–µ</li>
                            <li>–°–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ –º–æ—Ç–∏–≤–æ–≤ –ø–∞—Ä—Ç–Ω—ë—Ä–∞</li>
                            <li>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤</li>
                            <li>–†–∏—Å–∫ –¥–≤–∏–∂–µ–Ω–∏—è –≤ —Ä–∞–∑–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö</li>
                          </ul>
                        </div>
                        <div className="num-analysis-card advice">
                          <h4>üí° –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h4>
                          <ul>
                            <li>–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ 2-3 –æ–±—â–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∫–∞–∫ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç</li>
                            <li>–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω—ã–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –æ –±—É–¥—É—â–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã</li>
                            <li>–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞</li>
                            <li>–§–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Ç–æ–º, —á—Ç–æ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç, –∞ –Ω–µ —Ä–∞–∑–¥–µ–ª—è–µ—Ç</li>
                            <li>–ü—Ä–∏–º–∏—Ç–µ: –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ - —Ä–µ—à–∏—Ç–µ, –≥–æ—Ç–æ–≤—ã –ª–∏ –æ–±–∞</li>
                          </ul>
                        </div>
                      </>
                    )}
                  </div>

                  {/* –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ —Å—Ñ–µ—Ä–∞–º –∂–∏–∑–Ω–∏ (–Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—è) */}
                  <div className="num-life-areas">
                    <h4 style={{ textAlign: 'center', marginBottom: '1.5rem', color: 'white' }}>
                      üåü –ß—Ç–æ –ß–∏—Å–ª–∞ –ì–æ–≤–æ—Ä—è—Ç –æ –†–∞–∑–Ω—ã—Ö –°—Ñ–µ—Ä–∞—Ö
                    </h4>
                    <div className="num-areas-grid">
                      <div className="num-area-item">
                        <span className="area-emoji">üíù</span>
                        <h5>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –°–≤—è–∑—å</h5>
                        <div className="area-bar">
                          <div className="area-fill" style={{
                            width: `${numerologyResult.percentage}%`,
                            background: '#e91e63'
                          }}></div>
                        </div>
                        <p>{numerologyResult.percentage}%</p>
                        <p className="area-note">
                          {numerologyResult.score >= 7 ? '–ì–ª—É–±–æ–∫–æ–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ' :
                           numerologyResult.score >= 5 ? '–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ —ç–º–ø–∞—Ç–∏–µ–π' :
                           '–í–∞–∂–Ω–æ —É—á–∏—Ç—å—Å—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º—É —è–∑—ã–∫—É –¥—Ä—É–≥ –¥—Ä—É–≥–∞'}
                        </p>
                      </div>

                      <div className="num-area-item">
                        <span className="area-emoji">üéØ</span>
                        <h5>–ñ–∏–∑–Ω–µ–Ω–Ω—ã–µ –¶–µ–ª–∏</h5>
                        <div className="area-bar">
                          <div className="area-fill" style={{
                            width: `${Math.min(100, numerologyResult.percentage + 5)}%`,
                            background: '#9c27b0'
                          }}></div>
                        </div>
                        <p>{Math.min(100, numerologyResult.percentage + 5)}%</p>
                        <p className="area-note">
                          {numerologyResult.score >= 7 ? '–ò–¥—ë—Ç–µ –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏' :
                           numerologyResult.score >= 5 ? '–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ, –Ω–æ –Ω–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –ø—É—Ç–∏' :
                           '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–π—Ç–∏ –æ–±—â–∏–π –≤–µ–∫—Ç–æ—Ä'}
                        </p>
                      </div>

                      <div className="num-area-item">
                        <span className="area-emoji">üíº</span>
                        <h5>–°–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ü—Ä–æ–µ–∫—Ç—ã</h5>
                        <div className="area-bar">
                          <div className="area-fill" style={{
                            width: `${Math.max(30, numerologyResult.percentage - 10)}%`,
                            background: '#ff9800'
                          }}></div>
                        </div>
                        <p>{Math.max(30, numerologyResult.percentage - 10)}%</p>
                        <p className="area-note">
                          {numerologyResult.score >= 7 ? '–û—Ç–ª–∏—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞' :
                           numerologyResult.score >= 5 ? '–í–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∏ —á—ë—Ç–∫–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏' :
                           '–õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö'}
                        </p>
                      </div>

                      <div className="num-area-item">
                        <span className="area-emoji">üè†</span>
                        <h5>–û–±—â–∏–π –ë—ã—Ç</h5>
                        <div className="area-bar">
                          <div className="area-fill" style={{
                            width: `${numerologyResult.percentage}%`,
                            background: '#4caf50'
                          }}></div>
                        </div>
                        <p>{numerologyResult.percentage}%</p>
                        <p className="area-note">
                          {numerologyResult.score >= 7 ? '–õ–µ–≥–∫–æ —Å–æ–∑–¥–∞—ë—Ç–µ –æ–±—â–∏–π –¥–æ–º' :
                           numerologyResult.score >= 5 ? '–ù—É–∂–Ω—ã –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ –æ –±—ã—Ç–µ' :
                           '–†–∞–∑–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ –∫–æ–º—Ñ–æ—Ä—Ç–µ'}
                        </p>
                      </div>
                    </div>
                  </div>

                  {/* –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã –ø–æ —Ü–∏–∫–ª–∞–º */}
                  <div className="num-cycles-info">
                    <h4>üîÑ –¶–∏–∫–ª–∏—á–Ω–æ—Å—Ç—å –û—Ç–Ω–æ—à–µ–Ω–∏–π</h4>
                    <p style={{ lineHeight: '1.8', color: 'white', fontSize: '1rem' }}>
                      –í –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏ –∫–∞–∂–¥—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ 9-–ª–µ—Ç–Ω–∏–µ —Ü–∏–∫–ª—ã. –í–∞—à–∞ —Ç–µ–∫—É—â–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å ({numerologyResult.score}/10)
                      –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª, –Ω–æ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å: –æ—Ç–Ω–æ—à–µ–Ω–∏—è —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É—é—Ç.
                      {numerologyResult.score >= 7 ? ' –í–∞—à –≤—ã—Å–æ–∫–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –¥–∞—ë—Ç –æ—Ç–ª–∏—á–Ω—ã–π —Å—Ç–∞—Ä—Ç, –Ω–æ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —É—Å–ø–µ—Ö –±–µ–∑ —É—Å–∏–ª–∏–π.' :
                       numerologyResult.score >= 5 ? ' –í–∞—à —Å—Ä–µ–¥–Ω–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω.' :
                       ' –í–∞—à –Ω–∏–∑–∫–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –Ω–µ –ø—Ä–∏–≥–æ–≤–æ—Ä - –º–Ω–æ–≥–∏–µ –ø–∞—Ä—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏ —Å–æ–∑–¥–∞—é—Ç –∫—Ä–µ–ø–∫–∏–µ —Å–æ—é–∑—ã —á–µ—Ä–µ–∑ –æ—Å–æ–∑–Ω–∞–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É.'}
                    </p>
                    <div className="cycles-tips">
                      <div className="cycle-tip">
                        <strong>üìÖ –ì–æ–¥—ã 1-3:</strong> –§–∞–∑–∞ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞. –ò—Å—Å–ª–µ–¥—É–π—Ç–µ —Ä–∞–∑–ª–∏—á–∏—è, –Ω–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞.
                      </div>
                      <div className="cycle-tip">
                        <strong>üìÖ –ì–æ–¥—ã 4-6:</strong> –§–∞–∑–∞ —É–≥–ª—É–±–ª–µ–Ω–∏—è. –°—Ç—Ä–æ–∏—Ç–µ –æ–±—â—É—é –∂–∏–∑–Ω—å. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.
                      </div>
                      <div className="cycle-tip">
                        <strong>üìÖ –ì–æ–¥—ã 7-9:</strong> –§–∞–∑–∞ –∑—Ä–µ–ª–æ—Å—Ç–∏. –õ–∏–±–æ –≥–ª—É–±–æ–∫–∞—è –≥–∞—Ä–º–æ–Ω–∏—è, –ª–∏–±–æ –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π.
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            )}

            {/* Tarot Cards Section - –ü–û–°–õ–ï–î–ù–ò–ú –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º –∞–Ω–∞–ª–∏–∑–µ */}
            {result.yourCard && result.partnerCard && (
              <div className="tarot-section">
                <h3 className="tarot-title">üé¥ –ö–∞—Ä—Ç—ã –¢–∞—Ä–æ –†–∞—Å–∫—Ä—ã–≤–∞—é—Ç</h3>
                <p className="tarot-subtitle">–≠–Ω–µ—Ä–≥–∏–∏ –∫–∞–∂–¥–æ–≥–æ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö</p>

                <div className="tarot-cards-grid">
                  <div className="partner-card-display">
                    <div className="partner-label">üë§ {result.yourName}</div>
                    <div className="tarot-card-big">
                      <div className="card-icon-huge">üé¥</div>
                      <h3>{result.yourCard.name}</h3>
                      <p className="card-meaning-snippet">{result.yourCard.meaning}</p>
                    </div>
                  </div>

                  <div className="heart-divider-big">
                    üíó
                  </div>

                  <div className="partner-card-display">
                    <div className="partner-label">üíë {result.partnerName}</div>
                    <div className="tarot-card-big">
                      <div className="card-icon-huge">üé¥</div>
                      <h3>{result.partnerCard.name}</h3>
                      <p className="card-meaning-snippet">{result.partnerCard.meaning}</p>
                    </div>
                  </div>
                </div>

                <div className="card-interpretations">
                  <div className="card-interp-section">
                    <h5>üë§ {result.yourName}: {result.yourCard.name}</h5>
                    <p className="card-role"><strong>–í–∞—à–∞ –†–æ–ª—å –≤ –û—Ç–Ω–æ—à–µ–Ω–∏—è—Ö:</strong></p>
                    <p>{result.yourCard.inRelation}</p>
                    <p className="card-strength"><strong>–í–∞—à–∞ –°–∏–ª–∞:</strong> {result.yourCard.strength}</p>
                  </div>

                  <div className="card-interp-divider"></div>

                  <div className="card-interp-section">
                    <h5>üíë {result.partnerName}: {result.partnerCard.name}</h5>
                    <p className="card-role"><strong>–†–æ–ª—å –ü–∞—Ä—Ç–Ω—ë—Ä–∞ –≤ –û—Ç–Ω–æ—à–µ–Ω–∏—è—Ö:</strong></p>
                    <p>{result.partnerCard.inRelation}</p>
                    <p className="card-strength"><strong>–°–∏–ª–∞ –ü–∞—Ä—Ç–Ω—ë—Ä–∞:</strong> {result.partnerCard.strength}</p>
                  </div>

                  <div className="card-interp-divider"></div>

                  <div className="combined-interp">
                    <h5>üí´ –î–∏–Ω–∞–º–∏–∫–∞ –ü–∞—Ä—ã</h5>
                    <p>
                      {result.yourCard.energy === 'positive' && result.partnerCard.energy === 'positive' &&
                        `–û–±–µ –∫–∞—Ä—Ç—ã –Ω–µ—Å—É—Ç –ø–æ–∑–∏—Ç–∏–≤–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é! ${result.yourName} –ø—Ä–∏–≤–Ω–æ—Å–∏—Ç ${result.yourCard.strength.toLowerCase()},
                        –∞ ${result.partnerName} - ${result.partnerCard.strength.toLowerCase()}. –í–º–µ—Å—Ç–µ –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ –≥–∞—Ä–º–æ–Ω–∏—á–Ω—É—é,
                        –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –≥–¥–µ –æ–±–∞ –º–æ–≥—É—Ç –ø—Ä–æ—Ü–≤–µ—Ç–∞—Ç—å. –í–∞—à–∏ —ç–Ω–µ—Ä–≥–∏–∏ —É—Å–∏–ª–∏–≤–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞, —Å–æ–∑–¥–∞–≤–∞—è –º–æ—â–Ω—ã–π
                        —Å–∏–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö.`}

                      {result.yourCard.energy === 'challenging' && result.partnerCard.energy === 'challenging' &&
                        `–û–±–µ –∫–∞—Ä—Ç—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –≤—ã–∑–æ–≤—ã —Ä–æ—Å—Ç–∞. ${result.yourName} —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–µ–º–æ–π ${result.yourCard.meaning.toLowerCase()},
                        ${result.partnerName} - —Å ${result.partnerCard.meaning.toLowerCase()}. –≠—Ç–æ –Ω–µ –ø–ª–æ—Ö–æ - —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –∑–∞–∫–∞–ª—è—é—Ç!
                        –ö–ª—é—á –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–∏ —ç—Ç–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, –∞ –Ω–µ —É—Å–∏–ª–∏–≤–∞—Ç—å –∏—Ö. –í—ã –º–æ–∂–µ—Ç–µ —Å—Ç–∞—Ç—å
                        —Ü–µ–ª–∏—Ç–µ–ª—è–º–∏ –¥—Ä—É–≥ –¥–ª—è –¥—Ä—É–≥–∞, –µ—Å–ª–∏ –≥–æ—Ç–æ–≤—ã —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —Å–æ–±–æ–π.`}

                      {result.yourCard.energy !== result.partnerCard.energy &&
                        `–†–∞–∑–Ω—ã–µ —ç–Ω–µ—Ä–≥–∏–∏ —Å–æ–∑–¥–∞—é—Ç –¥–∏–Ω–∞–º–∏—á–Ω—ã–π –±–∞–ª–∞–Ω—Å.
                        ${result.yourCard.energy === 'positive' ? result.yourName : result.partnerName} –ø—Ä–∏–≤–Ω–æ—Å–∏—Ç –ª—ë–≥–∫–æ—Å—Ç—å,
                        –ø–æ–∑–∏—Ç–∏–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É, –ø–æ–º–æ–≥–∞—è
                        ${result.yourCard.energy === 'challenging' ? result.yourName : result.partnerName} –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤—ã.
                        –û–¥–∏–Ω –æ—Å–≤–µ—â–∞–µ—Ç –ø—É—Ç—å, –¥—Ä—É–≥–æ–π —É–≥–ª—É–±–ª—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—á–µ–Ω—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞, –≥–¥–µ –æ–±–∞ —É—á–∞—Ç—Å—è
                        –∏ —Ä–∞—Å—Ç—É—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è —Ä–∞–∑–ª–∏—á–∏—è–º.`}
                    </p>
                  </div>
                </div>
              </div>
            )}

            {/* Life Areas Compatibility - –û–ë–©–ò–ô –†–ê–ó–î–ï–õ */}
            <div className="life-areas-section">
                <h3>üåà –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ –°—Ñ–µ—Ä–∞–º –ñ–∏–∑–Ω–∏</h3>
                <p className="areas-intro">
                  –ö–∞–∂–¥–∞—è —Å—Ñ–µ—Ä–∞ –∂–∏–∑–Ω–∏ –∏–º–µ–µ—Ç —Å–≤–æ—é –¥–∏–Ω–∞–º–∏–∫—É –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. –û–¥–Ω–∞ –ø–∞—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ª–∏—á–Ω—ã–º–∏
                  —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏, –Ω–æ –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –±–∏–∑–Ω–µ—Å–µ. –î—Ä—É–≥–∏–µ - –∏–¥–µ–∞–ª—å–Ω—ã–µ –¥—Ä—É–∑—å—è,
                  –Ω–æ —Å–ª–æ–∂–Ω—ã–µ –ª—é–±–æ–≤–Ω–∏–∫–∏. –ù–∏–∂–µ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ –≤–∞—à–∏ —ç–Ω–µ—Ä–≥–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö:
                </p>
                <div className="areas-grid">
                  <div className="area-card">
                    <div className="area-icon">üíë</div>
                    <h5>–†–æ–º–∞–Ω—Ç–∏–∫–∞</h5>
                    <div className="area-bar">
                      <div className="area-fill" style={{ width: `${Math.min(100, result.percentage + 10)}%`, background: '#e91e63' }}></div>
                    </div>
                    <p className="area-score">{Math.min(100, result.percentage + 10)}%</p>
                    <p className="area-desc">–õ—é–±–æ–≤—å, —Å—Ç—Ä–∞—Å—Ç—å, —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–∏–¥–∞–Ω–∏—è, —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –±–ª–∏–∑–æ—Å—Ç—å</p>
                  </div>

                  <div className="area-card">
                    <div className="area-icon">ü§ù</div>
                    <h5>–î—Ä—É–∂–±–∞</h5>
                    <div className="area-bar">
                      <div className="area-fill" style={{ width: `${Math.min(100, result.percentage + 5)}%`, background: '#2196f3' }}></div>
                    </div>
                    <p className="area-score">{Math.min(100, result.percentage + 5)}%</p>
                    <p className="area-desc">–î–æ–≤–µ—Ä–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –æ–±—â–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã, –∫–æ–º—Ñ–æ—Ä—Ç –≤ –æ–±—â–µ–Ω–∏–∏</p>
                  </div>

                  <div className="area-card">
                    <div className="area-icon">üíº</div>
                    <h5>–ë–∏–∑–Ω–µ—Å</h5>
                    <div className="area-bar">
                      <div className="area-fill" style={{ width: `${Math.max(40, result.percentage - 5)}%`, background: '#ff9800' }}></div>
                    </div>
                    <p className="area-score">{Math.max(40, result.percentage - 5)}%</p>
                    <p className="area-desc">–î–µ–ª–æ–≤–æ–µ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ, —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è</p>
                  </div>

                  <div className="area-card">
                    <div className="area-icon">üë®‚Äçüë©‚Äçüëß</div>
                    <h5>–°–µ–º—å—è</h5>
                    <div className="area-bar">
                      <div className="area-fill" style={{ width: `${result.percentage}%`, background: '#4caf50' }}></div>
                    </div>
                    <p className="area-score">{result.percentage}%</p>
                    <p className="area-desc">–°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–º–∞, –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–µ –¥–µ—Ç–µ–π, —Å–µ–º–µ–π–Ω—ã–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏</p>
                  </div>

                  <div className="area-card">
                    <div className="area-icon">üéØ</div>
                    <h5>–û–±—â–∏–µ –¶–µ–ª–∏</h5>
                    <div className="area-bar">
                      <div className="area-fill" style={{ width: `${Math.max(45, result.percentage - 10)}%`, background: '#9c27b0' }}></div>
                    </div>
                    <p className="area-score">{Math.max(45, result.percentage - 10)}%</p>
                    <p className="area-desc">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥—É—â–µ–≥–æ, –º–µ—á—Ç—ã, —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ</p>
                  </div>

                  <div className="area-card">
                    <div className="area-icon">üí¨</div>
                    <h5>–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è</h5>
                    <div className="area-bar">
                      <div className="area-fill" style={{ width: `${result.percentage}%`, background: '#00bcd4' }}></div>
                    </div>
                    <p className="area-score">{result.percentage}%</p>
                    <p className="area-desc">–û–±—â–µ–Ω–∏–µ, –ø–æ–Ω–∏–º–∞–Ω–∏–µ, —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥</p>
                  </div>
                </div>
              </div>

              {/* Relationship Recommendations */}
              <div className="recommendations-section">
                <h3>üíù –ö–∞–∫ –£–∫—Ä–µ–ø–∏—Ç—å –í–∞—à–∏ –û—Ç–Ω–æ—à–µ–Ω–∏—è</h3>
                <div className="recommendations-grid">
                  <div className="rec-card">
                    <h4>üåÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ü—Ä–∞–∫—Ç–∏–∫–∏</h4>
                    <ul>
                      <li>–ù–∞—á–∏–Ω–∞–π—Ç–µ –¥–µ–Ω—å —Å –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è - –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –ø–ª–∞–Ω–∞–º–∏ –∏ –∂–µ–ª–∞–Ω–∏—è–º–∏</li>
                      <li>–í—ã—Ä–∞–∂–∞–π—Ç–µ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –∑–∞ –º–∞–ª–æ–µ - –∑–∞–º–µ—á–∞–π—Ç–µ —É—Å–∏–ª–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞</li>
                      <li>–§–∏–∑–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–∞–∫—Ç - –æ–±—ä—è—Ç–∏—è, –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è —É–∫—Ä–µ–ø–ª—è—é—Ç —Å–≤—è–∑—å</li>
                      <li>–°–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ "–ö–∞–∫ –ø—Ä–æ—à—ë–ª —Ç–≤–æ–π –¥–µ–Ω—å?" –∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–ª—É—à–∞–π—Ç–µ</li>
                    </ul>
                  </div>

                  <div className="rec-card">
                    <h4>üí¨ –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è</h4>
                    <ul>
                      <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–Ø-—Å–æ–æ–±—â–µ–Ω–∏—è" –≤–º–µ—Å—Ç–æ –æ–±–≤–∏–Ω–µ–Ω–∏–π: "–Ø —á—É–≤—Å—Ç–≤—É—é..." –≤–º–µ—Å—Ç–æ "–¢—ã –≤—Å–µ–≥–¥–∞..."</li>
                      <li>–°–ª—É—à–∞–π—Ç–µ —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∞ –Ω–µ —á—Ç–æ–±—ã –æ—Ç–≤–µ—Ç–∏—Ç—å</li>
                      <li>–ì–æ–≤–æ—Ä–∏—Ç–µ –æ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è—Ö –ø—Ä—è–º–æ - –ø–∞—Ä—Ç–Ω—ë—Ä –Ω–µ —Ç–µ–ª–µ–ø–∞—Ç</li>
                      <li>–†–µ–≥—É–ª—è—Ä–Ω—ã–µ "–ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π" - –æ–±—Å—É–∂–¥–∞–π—Ç–µ –∫–∞–∫ —É –≤–∞—Å –¥–µ–ª–∞ –∫–∞–∫ —É –ø–∞—Ä—ã</li>
                    </ul>
                  </div>

                  <div className="rec-card">
                    <h4>üéØ –°–æ–≤–º–µ—Å—Ç–Ω—ã–π –†–æ—Å—Ç</h4>
                    <ul>
                      <li>–°—Ç–∞–≤—å—Ç–µ –æ–±—â–∏–µ —Ü–µ–ª–∏ –Ω–∞ –≥–æ–¥ - –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, –ø–æ–∫—É–ø–∫–∏, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</li>
                      <li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –ª–∏—á–Ω—ã–µ —Ü–µ–ª–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ - —Ä–æ—Å—Ç –∫–∞–∂–¥–æ–≥–æ —É–∫—Ä–µ–ø–ª—è–µ—Ç –ø–∞—Ä—É</li>
                      <li>–ü—Ä–æ–±—É–π—Ç–µ –Ω–æ–≤–æ–µ –≤–º–µ—Å—Ç–µ - –Ω–æ–≤—ã–π –æ–ø—ã—Ç —Å–±–ª–∏–∂–∞–µ—Ç</li>
                      <li>–£—á–∏—Ç–µ—Å—å –¥—Ä—É–≥ —É –¥—Ä—É–≥–∞ - –∫–∞–∂–¥—ã–π –Ω–µ—Å—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é –º—É–¥—Ä–æ—Å—Ç—å</li>
                    </ul>
                  </div>

                  <div className="rec-card">
                    <h4>‚ö° –†–∞–±–æ—Ç–∞ —Å –ö–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏</h4>
                    <ul>
                      <li>–ù–µ —Ä–µ—à–∞–π—Ç–µ —Å–µ—Ä—å—ë–∑–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∫–æ–≥–¥–∞ –∑–ª–∏—Ç–µ—Å—å - –≤–æ–∑—å–º–∏—Ç–µ –ø–∞—É–∑—É</li>
                      <li>–§–æ–∫—É—Å –Ω–∞ —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã, –∞ –Ω–µ –Ω–∞ –ø–æ–±–µ–¥–µ –≤ —Å–ø–æ—Ä–µ</li>
                      <li>–ü—Ä–∏–∑–Ω–∞–≤–∞–π—Ç–µ —Å–≤–æ—é —á–∞—Å—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
                      <li>–ü—Ä–æ—â–∞–π—Ç–µ –±—ã—Å—Ç—Ä–æ - –Ω–µ –∫–æ–ø–∏—Ç–µ –æ–±–∏–¥—ã</li>
                    </ul>
                  </div>

                  <div className="rec-card">
                    <h4>üíï –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –†–æ–º–∞–Ω—Ç–∏–∫–∏</h4>
                    <ul>
                      <li>–°–≤–∏–¥–∞–Ω–∏—è –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é - –¥–∞–∂–µ 2 —á–∞—Å–∞ –≤–¥–≤–æ—ë–º –≤–∞–∂–Ω—ã</li>
                      <li>–°—é—Ä–ø—Ä–∏–∑—ã –∏ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å - –Ω–µ –¥–∞–π—Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º —Å—Ç–∞—Ç—å —Ä—É—Ç–∏–Ω–æ–π</li>
                      <li>–§–ª–∏—Ä—Ç –∏ –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã - –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π</li>
                      <li>–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–π</li>
                    </ul>
                  </div>

                  <div className="rec-card">
                    <h4>üåü –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞</h4>
                    <ul>
                      <li>–ü–æ–º–Ω–∏—Ç–µ –ó–ê–ß–ï–ú –≤—ã –≤–º–µ—Å—Ç–µ - –æ–±—â–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –≤–∞–∂–Ω–µ–µ —Ä–∞–∑–Ω–æ–≥–ª–∞—Å–∏–π</li>
                      <li>–†–∞—Å—Ç–∏—Ç–µ –≤–º–µ—Å—Ç–µ, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç—å</li>
                      <li>–ü—Ä–∞–∑–¥–Ω—É–π—Ç–µ –≥–æ–¥–æ–≤—â–∏–Ω—ã –∏ –≤–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã</li>
                      <li>–ò–Ω–≤–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è - –≤—Ä–µ–º—è, –≤–Ω–∏–º–∞–Ω–∏–µ, —É—Å–∏–ª–∏—è –æ–∫—É–ø–∞—é—Ç—Å—è</li>
                    </ul>
                  </div>
                </div>
              </div>

            <div className="action-buttons">
              <button onClick={reset} className="btn-reset">
                üîÑ –ù–æ–≤—ã–π –†–∞—Å—á—ë—Ç
              </button>
              <button onClick={() => navigate('/dashboard')} className="btn-home">
                üè† –ù–∞ –ì–ª–∞–≤–Ω—É—é
              </button>
            </div>
          </div>
        )}
      </div>
    </div>
  )
}

export default CompatibilityPage
